(function(g){var window=this;'use strict';var Z0m=function(k,F){return g.WZ(k,F)},e2R=function(k){if(k instanceof g.gf)return k;
if(typeof k.SW=="function")return k.SW(!1);if(g.P1(k)){let F=0;const a=new g.gf;a.next=function(){for(;;){if(F>=k.length)return g.l8;if(F in k)return g.TQ(k[F++]);F++}};
return a}throw Error("Not implemented");},dhZ=function(k,F,a){if(g.P1(k))g.fQ(k,F,a);
else for(k=e2R(k);;){const {done:V,value:M}=k.next();if(V)break;F.call(a,M,void 0,k)}},C4=function(k){g.NW(k,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^g.xp()).toString(36));
return k},sU=function(k,F,a){Array.isArray(a)||(a=[String(a)]);
g.GA(k.V,F,a)},PSB=function(k,F){const a=[];
dhZ(F,function(V){let M;try{M=g.Jb.prototype.D6.call(this,V,!0)}catch(C){if(C=="Storage: Invalid value was encountered")return;throw C;}M===void 0?a.push(V):g.Hq(M)&&a.push(V)},k);
return a},H0S=function(k,F){PSB(k,F).forEach(function(a){g.Jb.prototype.remove.call(this,a)},k)},JY8=function(k){if(k.E3){if(k.E3.locationOverrideToken)return{locationOverrideToken:k.E3.locationOverrideToken};
if(k.E3.latitudeE7!=null&&k.E3.longitudeE7!=null)return{latitudeE7:k.E3.latitudeE7,longitudeE7:k.E3.longitudeE7}}return null},QRz=function(k,F){g.Um(k,F)||k.push(F)},XD=function(k){let F=0;
for(const a in k)F++;return F},rYk=function(k){try{return g.Tm.JSON.parse(k)}catch(F){}k=String(k);
if(/^\s*$/.test(k)?0:/^[\],:{}\s\u2028\u2029]*$/.test(k.replace(/\\["\\\/bfnrtu]/g,"@").replace(/(?:"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)[\s\u2028\u2029]*(?=:|,|]|}|$)/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+k+")")}catch(F){}throw Error("Invalid JSON string: "+k);},UU=function(k){if(g.Tm.JSON)try{return g.Tm.JSON.parse(k)}catch(F){}return rYk(k)},h2Q=function(k,F,a,V){const M=new g.cJ(null);
k&&g.pC(M,k);F&&g.tv(M,F);a&&g.LC(M,a);V&&(M.K=V);return M},xh8=function(k,F){return new g.CQH(k,F)},yG=function(k,F){return Object.prototype.hasOwnProperty.call(k,F)},AYR=function(k,F){return k===F},o1=function(k,F){this.K={};
this.D=[];this.D5=this.size=0;var a=arguments.length;if(a>1){if(a%2)throw Error("Uneven number of arguments");for(var V=0;V<a;V+=2)this.set(arguments[V],arguments[V+1])}else if(k)if(k instanceof o1)for(a=k.jW(),V=0;V<a.length;V++)this.set(a[V],k.get(a[V]));else for(V in k)this.set(V,k[V])},n4=function(k){if(k.size!=k.D.length){for(var F=0,a=0;F<k.D.length;){var V=k.D[F];
yG(k.K,V)&&(k.D[a++]=V);F++}k.D.length=a}if(k.size!=k.D.length){F={};for(V=a=0;a<k.D.length;){const M=k.D[a];yG(F,M)||(k.D[V++]=M,F[M]=1);a++}k.D.length=V}},u4=function(k){this.name=this.id="";
this.clientName="UNKNOWN_INTERFACE";this.app="";this.type="REMOTE_CONTROL";this.ownerObfuscatedGaiaId=this.obfuscatedGaiaId=this.avatar=this.username="";this.capabilities=new Set;this.compatibleSenderThemes=new Set;this.experiments=new Set;this.theme="u";new o1;this.model=this.brand="";this.year=0;this.chipset=this.osVersion=this.os="";this.mdxDialServerType="MDX_DIAL_SERVER_TYPE_UNKNOWN";k&&(this.id=k.id||k.name,this.name=k.name,this.clientName=k.clientName?k.clientName.toUpperCase():"UNKNOWN_INTERFACE",
this.app=k.app,this.type=k.type||"REMOTE_CONTROL",this.username=k.user||"",this.avatar=k.userAvatarUri||"",this.obfuscatedGaiaId=k.obfuscatedGaiaId||"",this.ownerObfuscatedGaiaId=k.ownerObfuscatedGaiaId||"",this.theme=k.theme||"u",BUk(this,k.capabilities||""),YDZ(this,k.compatibleSenderThemes||""),O0S(this,k.experiments||""),this.brand=k.brand||"",this.model=k.model||"",this.year=k.year||0,this.os=k.os||"",this.osVersion=k.osVersion||"",this.chipset=k.chipset||"",this.mdxDialServerType=k.mdxDialServerType||
"MDX_DIAL_SERVER_TYPE_UNKNOWN",k=k.deviceInfo)&&(k=JSON.parse(k),this.brand=k.brand||"",this.model=k.model||"",this.year=k.year||0,this.os=k.os||"",this.osVersion=k.osVersion||"",this.chipset=k.chipset||"",this.clientName=k.clientName?k.clientName.toUpperCase():"UNKNOWN_INTERFACE",this.mdxDialServerType=k.mdxDialServerType||"MDX_DIAL_SERVER_TYPE_UNKNOWN")},BUk=function(k,F){k.capabilities.clear();
g.Gm(F.split(","),g.hV(Z0m,lo7)).forEach(a=>{k.capabilities.add(a)})},YDZ=function(k,F){k.compatibleSenderThemes.clear();
g.Gm(F.split(","),g.hV(Z0m,vlk)).forEach(a=>{k.compatibleSenderThemes.add(a)})},O0S=function(k,F){k.experiments.clear();
F.split(",").forEach(a=>{k.experiments.add(a)})},K4=function(k){k=k||{};
this.name=k.name||"";this.id=k.id||k.screenId||"";this.token=k.token||k.loungeToken||"";this.uuid=k.uuid||k.dialId||"";this.idType=k.screenIdType||"normal";this.secret=k.screenIdSecret||""},qR=function(k,F){return!!F&&(k.id==F||k.uuid==F)},cYL=function(k){return{name:k.name,
screenId:k.id,loungeToken:k.token,dialId:k.uuid,screenIdType:k.idType,screenIdSecret:k.secret}},pck=function(k){return new K4(k)},tlC=function(k){return Array.isArray(k)?g.bb(k,pck):[]},gb=function(k){return k?`{name:"${k.name}",id:${k.id.substr(0,6)}..,token:${k.token?".."+k.token.slice(-6):"-"},uuid:${k.uuid?".."+k.uuid.slice(-6):"-"},idType:${k.idType},secret:${k.secret?".."+k.secret.slice(-6):"-"}}`:"null"},Tu=function(k){return Array.isArray(k)?"["+g.bb(k,gb).join(",")+"]":"null"},I1=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(k){const F=Math.random()*16|0;
return(k=="x"?F:F&3|8).toString(16)})},Lcz=function(k){return g.bb(k,function(F){return{key:F.id,
name:F.name}})},mt=function(k,F){return g.sm(k,function(a){return a||F?!a!=!F?!1:a.id==F.id:!0})},SA=function(k,F){return g.sm(k,function(a){return qR(a,F)})},R2m=function(){const k=g.ic.sA();
k&&H0S(k,k.EC.SW(!0))},Zg=function(){const k=g.G5("yt-remote-connected-devices")||[];
g.rk(k);return k},jRZ=function(k){if(k.length==0)return[];
const F=k[0].indexOf("#"),a=F==-1?k[0]:k[0].substring(0,F);return g.bb(k,function(V,M){return M==0?V:V.substring(a.length)})},Wck=function(k){g.z5("yt-remote-connected-devices",k,86400)},db=function(){if(eA)return eA;
let k=g.G5("yt-remote-device-id");k||(k=I1(),g.z5("yt-remote-device-id",k,31536E3));const F=Zg();let a=1,V=k;for(;g.Um(F,V);)a++,V=k+"#"+a;return eA=V},P3=function(){let k=Zg();
const F=db();g.wq()&&g.xB(k,F);k=jRZ(k);if(k.length==0)try{g.b_("remote_sid")}catch(a){}else try{g.zL("remote_sid",k.join(","),-1)}catch(a){}},$hX=function(){return g.G5("yt-remote-session-browser-channel")},ElS=function(){return g.G5("yt-remote-local-screens")||[]},NUI=function(){g.z5("yt-remote-lounge-token-expiration",!0,86400)},DhR=function(k){k.length>5&&(k=k.slice(k.length-5));
const F=g.bb(ElS(),function(V){return V.loungeToken}),a=g.bb(k,function(V){return V.loungeToken});
g.ML(a,function(V){return!g.Um(F,V)})&&NUI();
g.z5("yt-remote-local-screens",k,31536E3)},H3=function(k){k||(g.bc("yt-remote-session-screen-id"),g.bc("yt-remote-session-video-id"));
P3();k=Zg();g.qL(k,db());Wck(k)},i08=function(){if(!J8){const k=g.Od();
k&&(J8=new g.SS(k))}},foS=function(){i08();
return J8?!!J8.get("yt-remote-use-staging-server"):!1},QG=function(k,F){g.fy[k]=!0;
const a=g.Dw();a&&a.publish.apply(a,arguments);g.fy[k]=!1},rb=function(){let k=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);
return k?parseInt(k[1],10):0},z2z=function(k){return!!document.currentScript&&(document.currentScript.src.indexOf("?"+k)!=-1||document.currentScript.src.indexOf("&"+k)!=-1)},GB8=function(){return typeof window.__onGCastApiAvailable=="function"?window.__onGCastApiAvailable:null},h8=function(k){k.length?b0R(k.shift(),function(){h8(k)}):xE()},xE=function(){let k=GB8();
k&&k(!1,"No cast extension found")},b0R=function(k,F,a){let V=document.createElement("script");
V.onerror=F;a&&(V.onload=a);g.C$(V,g.Dn(k));(document.head||document.documentElement).appendChild(V)},wcm=function(k){return"chrome-extension://"+k+"/cast_sender.js"},kQm=function(){const k=rb(),F=[];
if(k>1){const a=k-1;F.push("//www.gstatic.com/eureka/clank/"+k+"/cast_sender.js");F.push("//www.gstatic.com/eureka/clank/"+a+"/cast_sender.js")}return F},A8=function(){if(FYm){var k=2,F=GB8(),a=function(){k--;
k==0&&F&&F(!0)};
window.__onGCastApiAvailable=a;b0R("//www.gstatic.com/cast/sdk/libs/sender/1.0/cast_framework.js",xE,a)}},a_7=function(){A8();
let k=kQm();k.push("//www.gstatic.com/eureka/clank/cast_sender.js");h8(k)},MMk=function(){A8();
let k=kQm();k.push(...VMR.map(wcm));k.push("//www.gstatic.com/eureka/clank/cast_sender.js");h8(k)},B3=function(k,F,a){g.GB.call(this);
this.C=a!=null?(0,g.ry)(k,a):k;this.nJ=F;this.Z=(0,g.ry)(this.Wy,this);this.D=!1;this.K=0;this.O=this.Rj=null;this.V=[]},YE=function(){this.D=g.xp()},CwI=function(){OU||(OU=new YE)},sCX=function(){OU||(OU=new YE)},l4=function(){g.wF.call(this,"p")},v3=function(){g.wF.call(this,"o")},c3=function(){return XDL=XDL||new g.S1},USX=function(k){g.wF.call(this,"serverreachability",k)},p4=function(k){const F=c3();
F.dispatchEvent(new USX(F,k))},yeS=function(k){g.wF.call(this,"statevent",k)},t8=function(k){const F=c3();
F.dispatchEvent(new yeS(F,k))},oLm=function(k,F,a,V){g.wF.call(this,"timingevent",k);
this.size=F;this.rtt=a;this.retries=V},L4=function(k,F){if(typeof k!=="function")throw Error("Fn must not be null and must be a function");
return g.Tm.setTimeout(function(){k()},F)},R1=function(){},jA=function(k,F,a,V){this.O=k;
this.V=F;this.E3=a;this.Dl=V||1;this.n6=new g.kH(this);this.PA=45E3;this.cA=null;this.C=!1;this.X=this.TL=this.W=this.Jl=this.D3=this.L6=this.I5=null;this.j=[];this.D=null;this.T=0;this.Z=this.OO=null;this.Yw=-1;this.QX=!1;this.Ml=0;this.uw=null;this.yX=this.a5=this.vA=this.VX=!1;this.K=new nLS},nLS=function(){this.O=null;
this.D="";this.K=!1},W3=function(k,F,a){k.Jl=1;
k.W=C4(F.clone());k.X=a;k.VX=!0;upB(k,null)},upB=function(k,F){k.D3=Date.now();
$E(k);k.TL=k.W.clone();sU(k.TL,"t",k.Dl);k.T=0;const a=k.O.a5;k.K=new nLS;k.D=KYR(k.O,a?F:null,!k.X);k.Ml>0&&(k.uw=new g.aw((0,g.ry)(k.IK,k,k.D),k.Ml));k.n6.listen(k.D,"readystatechange",k.SX);F=k.cA?g.z8(k.cA):{};k.X?(k.OO||(k.OO="POST"),F["Content-Type"]="application/x-www-form-urlencoded",k.D.send(k.TL,k.OO,k.X,F)):(k.OO="GET",k.D.send(k.TL,k.OO,null,F));p4(1)},gLZ=function(k){if(!qhQ(k))return g.rW(k.D);
const F=g.hZ(k.D);if(F==="")return"";let a="";const V=F.length,M=g.HC(k.D)==4;if(!k.K.O){if(typeof TextDecoder==="undefined")return EU(k),NR(k),"";k.K.O=new g.Tm.TextDecoder}for(let C=0;C<V;C++)k.K.K=!0,a+=k.K.O.decode(F[C],{stream:!(M&&C==V-1)});F.length=0;k.K.D+=a;k.T=0;return k.K.D},qhQ=function(k){return k.D?k.OO=="GET"&&k.Jl!=2&&k.O.Pl:!1},I_m=function(k,F){var a=k.T,V=F.indexOf("\n",a);
if(V==-1)return Dg;a=Number(F.substring(a,V));if(isNaN(a))return Tfm;V+=1;if(V+a>F.length)return Dg;F=F.slice(V,V+a);k.T=V+a;return F},$E=function(k){k.L6=Date.now()+k.PA;
mSL(k,k.PA)},mSL=function(k,F){if(k.I5!=null)throw Error("WatchDog timer not null");
k.I5=L4((0,g.ry)(k.NS,k),F)},i4=function(k){k.I5&&(g.Tm.clearTimeout(k.I5),k.I5=null)},NR=function(k){k.O.F2()||k.QX||ShI(k.O,k)},EU=function(k){i4(k);
g.f0(k.uw);k.uw=null;k.n6.removeAll();if(k.D){const F=k.D;k.D=null;F.abort();F.dispose()}},Vf=function(k,F){try{var a=k.O;
if(a.zG!=0&&(a.D==k||f4(a.K,k)))if(!k.a5&&f4(a.K,k)&&a.zG==3){try{var V=a.bP.D.parse(F)}catch(n){V=null}if(Array.isArray(V)&&V.length==3){var M=V;if(M[0]==0)a:{if(!a.W){if(a.D)if(a.D.D3+3E3<k.D3)zu(a),Gu(a);else break a;b4(a);t8(18)}}else a.Jr=M[1],0<a.Jr-a.Jl&&M[2]<37500&&a.uw&&a.j==0&&!a.I5&&(a.I5=L4((0,g.ry)(a.L_,a),6E3));if(wb(a.K)<=1&&a.Yw){try{a.Yw()}catch(n){}a.Yw=void 0}}else kO(a,11)}else if((k.a5||a.D==k)&&zu(a),!g.yp(F))for(M=a.bP.D.parse(F),F=0;F<M.length;F++){let n=M[F];const u=n[0];
if(!(u<=a.Jl))if(a.Jl=u,n=n[1],a.zG==2)if(n[0]=="c"){a.V=n[1];a.E3=n[2];const K=n[3];K!=null&&(a.Kt=K);const q=n[5];q!=null&&typeof q==="number"&&q>0&&(a.Ml=1.5*q);V=a;const T=k.ME();if(T){const S=g.AZ(T,"X-Client-Wire-Protocol");if(S){var C=V.K;!C.D&&(g.op(S,"spdy")||g.op(S,"quic")||g.op(S,"h2"))&&(C.V=C.Z,C.D=new Set,C.K&&(F8(C,C.K),C.K=null))}if(V.VX){const J=g.AZ(T,"X-HTTP-Session-Id");J&&(V.ju=J,g.NW(V.cA,V.VX,J))}}a.zG=3;a.Z&&a.Z.Ub();a.uI&&(a.dB=Date.now()-k.D3);V=a;var X=k;V.nT=ZqQ(V,V.a5?
V.E3:null,V.iI);if(X.a5){e78(V.K,X);var U=X,y=V.Ml;y&&U.setTimeout(y);U.I5&&(i4(U),$E(U));V.D=X}else dSz(V);a.O.length>0&&al(a)}else n[0]!="stop"&&n[0]!="close"||kO(a,7);else a.zG==3&&(n[0]=="stop"||n[0]=="close"?n[0]=="stop"?kO(a,7):a.disconnect():n[0]!="noop"&&a.Z&&a.Z.Zi(n),a.j=0)}p4(4)}catch(n){}},PwR=function(k){this.Z=k||10;
g.Tm.PerformanceNavigationTiming?(k=g.Tm.performance.getEntriesByType("navigation"),k=k.length>0&&(k[0].nextHopProtocol=="hq"||k[0].nextHopProtocol=="h2")):k=!!(g.Tm.chrome&&g.Tm.chrome.loadTimes&&g.Tm.chrome.loadTimes()&&g.Tm.chrome.loadTimes().wasFetchedViaSpdy);this.V=k?this.Z:1;this.D=null;this.V>1&&(this.D=new Set);this.K=null;this.O=[]},HqX=function(k){return k.K?!0:k.D?k.D.size>=k.V:!1},wb=function(k){return k.K?1:k.D?k.D.size:0},f4=function(k,F){return k.K?k.K==F:k.D?k.D.has(F):!1},F8=function(k,
F){k.D?k.D.add(F):k.K=F},e78=function(k,F){k.K&&k.K==F?k.K=null:k.D&&k.D.has(F)&&k.D.delete(F)},MD=function(k){if(k.K!=null)return k.O.concat(k.K.j);
if(k.D!=null&&k.D.size!==0){let F=k.O;for(const a of k.D.values())F=F.concat(a.j);return F}return g.mQ(k.O)},JeC=function(k,F){const a=new R1;
if(g.Tm.Image){const V=new Image;V.onload=g.hV(Cn,a,"TestLoadImage: loaded",!0,F,V);V.onerror=g.hV(Cn,a,"TestLoadImage: error",!1,F,V);V.onabort=g.hV(Cn,a,"TestLoadImage: abort",!1,F,V);V.ontimeout=g.hV(Cn,a,"TestLoadImage: timeout",!1,F,V);g.Tm.setTimeout(function(){if(V.ontimeout)V.ontimeout()},1E4);
V.src=k}else F(!1)},QCL=function(k,F){const a=new R1,V=new AbortController,M=setTimeout(()=>{V.abort();
Cn(a,"TestPingServer: timeout",!1,F)},1E4);
fetch(k,{signal:V.signal}).then(C=>{clearTimeout(M);C.ok?Cn(a,"TestPingServer: ok",!0,F):Cn(a,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(M);
Cn(a,"TestPingServer: error",!1,F)})},Cn=function(k,F,a,V,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),V(a)}catch(C){}},reQ=function(){this.D=new sG},X8=function(k,F,a){return a&&a.VF?a.VF[k]||F:F},h7B=function(k){this.O=[];
this.E3=this.nT=this.cA=this.iI=this.D=this.ju=this.VX=this.QX=this.T=this.vA=this.X=null;this.r$=this.TL=0;this.f$=X8("failFast",!1,k);this.uw=this.I5=this.W=this.C=this.Z=null;this.gB=!0;this.Jr=this.Jl=-1;this.Dl=this.j=this.D3=0;this.nf=X8("baseRetryDelayMs",5E3,k);this.m0=X8("retryDelaySeedMs",1E4,k);this.Ez=X8("forwardChannelMaxRetries",2,k);this.Eu=X8("forwardChannelRequestTimeoutMs",2E4,k);this.wy=k&&k.uOw||void 0;this.DO=k&&k.ZmF||void 0;this.Pl=k&&k.az5||!1;this.Ml=void 0;this.a5=k&&k.IU||
!1;this.V="";this.K=new PwR(k&&k.Suw);this.Ra=Math.min(k&&k.Kfc||1E3,1E3);this.bP=new reQ;this.n6=k&&k.gYA||!1;this.L6=k&&k.Hfw||!1;this.n6&&this.L6&&(this.L6=!1);this.jO=k&&k.Gic||!1;k&&k.Jal&&(this.gB=!1);this.uI=!this.n6&&this.gB&&k&&k.yrF||!1;this.Mw=void 0;k&&k.q$&&k.q$>0&&(this.Mw=k.q$);this.Yw=void 0;this.dB=0;this.PA=!1;this.yX=this.OO=null},Gu=function(k){k.D&&(UG(k),k.D.cancel(),k.D=null)},xSI=function(k){Gu(k);
k.W&&(g.Tm.clearTimeout(k.W),k.W=null);zu(k);k.K.cancel();k.C&&(typeof k.C==="number"&&g.Tm.clearTimeout(k.C),k.C=null)},al=function(k){HqX(k.K)||k.C||(k.C=!0,g.vh(k.Eb,k),k.D3=0)},BfB=function(k,F){if(wb(k.K)>=k.K.V-(k.C?1:0))return!1;
if(k.C)return k.O=F.j.concat(k.O),!0;if(k.zG==1||k.zG==2||k.D3>=(k.f$?0:k.Ez))return!1;k.C=L4((0,g.ry)(k.Eb,k,F),Aez(k,k.D3));k.D3++;return!0},OqR=function(k,F){var a;
F?a=F.E3:a=k.TL++;const V=k.cA.clone();g.NW(V,"SID",k.V);g.NW(V,"RID",a);g.NW(V,"AID",k.Jl);yf(k,V);k.T&&k.X&&g.wg(V,k.T,k.X);a=new jA(k,k.V,a,k.D3+1);k.T===null&&(a.cA=k.X);F&&(k.O=F.j.concat(k.O));F=YhL(k,a,k.Ra);a.setTimeout(Math.round(k.Eu*.5)+Math.round(k.Eu*.5*Math.random()));F8(k.K,a);W3(a,V,F)},yf=function(k,F){k.QX&&g.BZ(k.QX,function(a,V){g.NW(F,V,a)});
k.Z&&g.BZ({},function(a,V){g.NW(F,V,a)})},YhL=function(k,F,a){a=Math.min(k.O.length,a);
const V=k.Z?(0,g.ry)(k.Z.zz,k.Z,k):null;a:{var M=k.O;let U=-1;for(;;){const y=["count="+a];U==-1?a>0?(U=M[0].D,y.push("ofs="+U)):U=0:y.push("ofs="+U);let n=!0;for(let u=0;u<a;u++){var C=M[u].D;const K=M[u].map;C-=U;if(C<0)U=Math.max(0,M[u].D-100),n=!1;else try{C="req"+C+"_"||"";try{var X=K instanceof Map?K:Object.entries(K);for(const [q,T]of X){let S=T;g.H1(T)&&(S=g.uN(T));y.push(C+q+"="+encodeURIComponent(S))}}catch(q){throw y.push(C+"type="+encodeURIComponent("_badmap")),q;}}catch(q){V&&V(K)}}if(n){X=
y.join("&");break a}}X=void 0}k=k.O.splice(0,a);F.j=k;return X},dSz=function(k){k.D||k.W||(k.Dl=1,g.vh(k.Ob,k),k.j=0)},b4=function(k){if(k.D||k.W||k.j>=3)return!1;
k.Dl++;k.W=L4((0,g.ry)(k.Ob,k),Aez(k,k.j));k.j++;return!0},UG=function(k){k.OO!=null&&(g.Tm.clearTimeout(k.OO),k.OO=null)},l_Z=function(k){k.D=new jA(k,k.V,"rpc",k.Dl);
k.T===null&&(k.D.cA=k.X);k.D.Ml=0;var F=k.nT.clone();g.NW(F,"RID","rpc");g.NW(F,"SID",k.V);g.NW(F,"AID",k.Jl);g.NW(F,"CI",k.uw?"0":"1");!k.uw&&k.Mw&&g.NW(F,"TO",k.Mw);g.NW(F,"TYPE","xmlhttp");yf(k,F);k.T&&k.X&&g.wg(F,k.T,k.X);k.Ml&&k.D.setTimeout(k.Ml);var a=k.D;k=k.E3;a.Jl=1;a.W=C4(F.clone());a.X=null;a.VX=!0;upB(a,k)},zu=function(k){k.I5!=null&&(g.Tm.clearTimeout(k.I5),k.I5=null)},ShI=function(k,F){var a=null;
if(k.D==F){zu(k);UG(k);k.D=null;var V=2}else if(f4(k.K,F))a=F.j,e78(k.K,F),V=1;else return;if(k.zG!=0)if(F.C)if(V==1){a=F.X?F.X.length:0;F=Date.now()-F.D3;var M=k.D3;V=c3();V.dispatchEvent(new oLm(V,a,F,M));al(k)}else dSz(k);else{var C=F.Yw;M=F.getLastError();if(M==3||M==0&&C>0||!(V==1&&BfB(k,F)||V==2&&b4(k)))switch(a&&a.length>0&&(F=k.K,F.O=F.O.concat(a)),M){case 1:kO(k,5);break;case 4:kO(k,10);break;case 3:kO(k,6);break;default:kO(k,2)}}},Aez=function(k,F){let a=k.nf+Math.floor(Math.random()*k.m0);
k.isActive()||(a*=2);return a*F},kO=function(k,F){if(F==2){var a=(0,g.ry)(k.ZJ,k),V=k.DO;
const M=!V;V=new g.cJ(V||"//www.google.com/images/cleardot.gif");g.Tm.location&&g.Tm.location.protocol=="http"||g.pC(V,"https");C4(V);M?JeC(V.toString(),a):QCL(V.toString(),a)}else t8(2);k.zG=0;k.Z&&k.Z.hq(F);vLQ(k);xSI(k)},vLQ=function(k){k.zG=0;
k.yX=[];if(k.Z){const F=MD(k.K);if(F.length!=0||k.O.length!=0)g.SI(k.yX,F),g.SI(k.yX,k.O),k.K.O.length=0,g.mQ(k.O),k.O.length=0;k.Z.V5()}},ce8=function(k){if(k.zG==0)return k.yX;
let F=[];g.SI(F,MD(k.K));g.SI(F,k.O);return F},ZqQ=function(k,F,a){var V=g.DO(a);
V.D!=""?(F&&g.tv(V,F+"."+V.D),g.LC(V,V.O)):(V=g.Tm.location,V=h2Q(V.protocol,F?F+"."+V.hostname:V.hostname,+V.port,a));F=k.VX;a=k.ju;F&&a&&g.NW(V,F,a);g.NW(V,"VER",k.Kt);yf(k,V);return V},KYR=function(k,F,a){if(F&&!k.a5)throw Error("Can't create secondary domain capable XhrIo object.");
F=k.Pl&&!k.wy?new g.mv(new g.BJ({Ic:a})):new g.mv(k.wy);F.T=k.a5;return F},pD7=function(){},tMX=function(){},nn=function(k,F){g.S1.call(this);
this.D=new h7B(F);this.C=k;this.K=F&&F.vW||null;k=F&&F.jK||null;F&&F.Ny3&&(k?k["X-Client-Protocol"]="webchannel":k={"X-Client-Protocol":"webchannel"});this.D.X=k;k=F&&F.L1L||null;F&&F.I0&&(k?k["X-WebChannel-Content-Type"]=F.I0:k={"X-WebChannel-Content-Type":F.I0});F&&F.oC&&(k?k["X-WebChannel-Client-Profile"]=F.oC:k={"X-WebChannel-Client-Profile":F.oC});this.D.vA=k;(k=F&&F.NDN)&&!g.yp(k)&&(this.D.T=k);this.T=F&&F.IU||!1;this.Z=F&&F.dTw||!1;(F=F&&F.IR)&&!g.yp(F)&&(this.D.VX=F,g.jI(this.K,F)&&(k=this.K,
F in k&&delete k[F]));this.O=new ol(this)},LYB=function(k){l4.call(this);
k.__headers__&&(this.headers=k.__headers__,this.statusCode=k.__status__,delete k.__headers__,delete k.__status__);const F=k.__sm__;F?this.data=(this.D=g.pz(F))?g.iR(F,this.D):F:this.data=k},R7I=function(k){v3.call(this);
this.status=1;this.errorCode=k},ol=function(k){this.D=k},uE=function(k,F){this.V=k;
this.D=F},Kn=function(k,F){if(typeof k!=="function")throw Error("Fn must not be null and must be a function");
return g.Tm.setTimeout(function(){k()},F)},g2=function(){qD.dispatchEvent(new jCX)},Ti=function(k,F,a,V){this.D=k;
this.V=F;this.T=a;this.C=V||1;this.K=45E3;this.O=new g.kH(this);this.Z=new g.zn;this.Z.setInterval(250)},$Sm=function(k,F,a){k.hp=1;
k.pZ=C4(F.clone());k.Ju=a;k.VX=!0;WYX(k,null)},Il=function(k,F,a,V,M){k.hp=1;
k.pZ=C4(F.clone());k.Ju=null;k.VX=a;M&&(k.Tc=!1);WYX(k,V)},WYX=function(k,F){k.Z0=Date.now();
mk(k);k.Vi=k.pZ.clone();sU(k.Vi,"t",k.C);k.Ux=0;k.cQ=k.D.iA(k.D.UF()?F:null);k.Cu>0&&(k.po=new g.aw((0,g.ry)(k.gp,k,k.cQ),k.Cu));k.O.listen(k.cQ,"readystatechange",k.f_);F=k.Q0?g.z8(k.Q0):{};k.Ju?(k.Zp="POST",F["Content-Type"]="application/x-www-form-urlencoded",k.cQ.send(k.Vi,k.Zp,k.Ju,F)):(k.Zp="GET",k.Tc&&!g.s2&&(F.Connection="close"),k.cQ.send(k.Vi,k.Zp,null,F));k.D.qv(1)},NfS=function(k,F){var a=k.Ux,V=F.indexOf("\n",a);
if(V==-1)return Sj;a=Number(F.substring(a,V));if(isNaN(a))return ELX;V+=1;if(V+a>F.length)return Sj;F=F.slice(V,V+a);k.Ux=V+a;return F},mk=function(k){k.AX=Date.now()+k.K;
DSL(k,k.K)},DSL=function(k,F){if(k.nE!=null)throw Error("WatchDog timer not null");
k.nE=Kn((0,g.ry)(k.R2,k),F)},iqz=function(k){k.nE&&(g.Tm.clearTimeout(k.nE),k.nE=null)},Z4=function(k){k.D.F2()||k.VZ||k.D.GO(k)},ej=function(k){iqz(k);
g.f0(k.po);k.po=null;k.Z.stop();k.O.removeAll();if(k.cQ){const F=k.cQ;k.cQ=null;F.abort();F.dispose()}k.Ay&&(k.Ay=null)},f_R=function(k,F){try{k.D.Q5(k,F),k.D.qv(4)}catch(a){}},GQ8=function(k,F,a,V,M){if(V==0)a(!1);
else{var C=M||0;V--;z7I(k,F,function(X){X?a(!0):g.Tm.setTimeout(function(){GQ8(k,F,a,V,C)},C)})}},z7I=function(k,F,a){const V=new Image;
V.onload=function(){try{d2(V),a(!0)}catch(M){}};
V.onerror=function(){try{d2(V),a(!1)}catch(M){}};
V.onabort=function(){try{d2(V),a(!1)}catch(M){}};
V.ontimeout=function(){try{d2(V),a(!1)}catch(M){}};
g.Tm.setTimeout(function(){if(V.ontimeout)V.ontimeout()},F);
V.src=k},d2=function(k){k.onload=null;
k.onerror=null;k.onabort=null;k.ontimeout=null},bqI=function(k){this.D=k;
this.K=new sG},wDL=function(k){const F=PX(k.D,k.Fr,"/mail/images/cleardot.gif");
C4(F);GQ8(F.toString(),5E3,(0,g.ry)(k.VA,k),3,2E3);k.qv(1)},Jo=function(k){var F=k.D.C;
F!=null?(g2(),F?(g2(),HX(k.D,k,!1)):(g2(),HX(k.D,k,!0))):(k.RV=new Ti(k),k.RV.Q0=k.TO,F=k.D,F=PX(F,F.UF()?k.gz:null,k.PG),g2(),sU(F,"TYPE","xmlhttp"),Il(k.RV,F,!1,k.gz,!1))},Qf=function(k,F,a){this.D=1;
this.K=[];this.O=[];this.Z=new sG;this.X=k||null;this.C=F!=null?F:null;this.W=a||!1},kRQ=function(k,F){this.D=k;
this.map=F;this.context=null},FlR=function(k,F,a,V){g.wF.call(this,"timingevent",k);
this.size=F;this.rtt=a;this.retries=V},aVz=function(k){g.wF.call(this,"serverreachability",k)},VUQ=function(k){k.dN(1,0);
k.Qi=PX(k,null,k.F5);r2(k)},MUL=function(k){k.Ka&&(k.Ka.abort(),k.Ka=null);
k.X2&&(k.X2.cancel(),k.X2=null);k.jD&&(g.Tm.clearTimeout(k.jD),k.jD=null);ho(k);k.Es&&(k.Es.cancel(),k.Es=null);k.SI&&(g.Tm.clearTimeout(k.SI),k.SI=null)},xO=function(k,F){if(k.D==0)throw Error("Invalid operation: sending map when state is closed");
k.K.push(new kRQ(k.n_++,F));k.D!=2&&k.D!=3||r2(k)},CKI=function(k){let F=0;
k.X2&&F++;k.Es&&F++;return F},r2=function(k){k.Es||k.SI||(k.SI=Kn((0,g.ry)(k.kU,k),0),k.Y5=0)},XBm=function(k,F){if(k.D==1){if(!F){k.QZ=Math.floor(Math.random()*1E5);
F=k.QZ++;const a=new Ti(k,"",F);a.Q0=k.Wr;const V=Ao(k),M=k.Qi.clone();g.NW(M,"RID",F);g.NW(M,"CVER","1");BX(k,M);$Sm(a,M,V);k.Es=a;k.D=2}}else k.D==3&&(F?sYI(k,F):k.K.length==0||k.Es||sYI(k))},sYI=function(k,F){if(F)if(k.xp>6){k.K=k.O.concat(k.K);
k.O.length=0;var a=k.QZ-1;F=Ao(k)}else a=F.T,F=F.Ju;else a=k.QZ++,F=Ao(k);const V=k.Qi.clone();g.NW(V,"SID",k.V);g.NW(V,"RID",a);g.NW(V,"AID",k.X7);BX(k,V);a=new Ti(k,k.V,a,k.Y5+1);a.Q0=k.Wr;a.setTimeout(1E4+Math.round(1E4*Math.random()));k.Es=a;$Sm(a,V,F)},BX=function(k,F){k.RL&&(k=k.RL.uF())&&g.BZ(k,function(a,V){g.NW(F,V,a)})},Ao=function(k){const F=Math.min(k.K.length,1E3),a=["count="+F];
let V;k.xp>6&&F>0?(V=k.K[0].D,a.push("ofs="+V)):V=0;for(let M=0;M<F;M++){let C=k.K[M].D;const X=k.K[M].map;C=k.xp<=6?M:C-V;try{g.BZ(X,function(U,y){a.push("req"+C+"_"+y+"="+encodeURIComponent(U))})}catch(U){a.push("req"+C+"_type="+encodeURIComponent("_badmap"))}}k.O=k.O.concat(k.K.splice(0,F));
return a.join("&")},UaX=function(k){k.X2||k.jD||(k.T=1,k.jD=Kn((0,g.ry)(k.cF,k),0),k.qt=0)},YO=function(k){if(k.X2||k.jD||k.qt>=3)return!1;
k.T++;k.jD=Kn((0,g.ry)(k.cF,k),yEB(k,k.qt));k.qt++;return!0},HX=function(k,F,a){k.YF=k.C==null?a:!k.C;
k.PL=F.XV;k.W||VUQ(k)},ho=function(k){k.cq!=null&&(g.Tm.clearTimeout(k.cq),k.cq=null)},yEB=function(k,F){let a=5E3+Math.floor(Math.random()*1E4);
k.isActive()||(a*=2);return a*F},OG=function(k,F){if(F==2||F==9){var a=null;
k.RL&&(a=null);var V=(0,g.ry)(k.hF,k);a||(a=new g.cJ("//www.google.com/images/cleardot.gif"),C4(a));z7I(a.toString(),1E4,V)}else g2();oxX(k,F)},oxX=function(k,F){k.D=0;
k.RL&&k.RL.oK(F);nxL(k);MUL(k)},nxL=function(k){k.D=0;
k.PL=-1;if(k.RL)if(k.O.length==0&&k.K.length==0)k.RL.MQ();else{const F=g.mQ(k.O),a=g.mQ(k.K);k.O.length=0;k.K.length=0;k.RL.MQ(F,a)}},PX=function(k,F,a){let V=g.DO(a);
if(V.D!="")F&&g.tv(V,F+"."+V.D),g.LC(V,V.O);else{const M=window.location;V=h2Q(M.protocol,F?F+"."+M.hostname:M.hostname,+M.port,a)}k.g7&&g.BZ(k.g7,function(M,C){g.NW(V,C,M)});
g.NW(V,"VER",k.xp);BX(k,V);return V},uSz=function(){},KlS=function(){this.D=[];
this.K=[]},qy7=function(k,F){this.action=k;
this.params=F||{}},lE=function(k,F){g.GB.call(this);
this.D=new g.La(this.Rz,0,this);g.Q(this,this.D);this.nJ=5E3;this.retryCount=this.zU=0;if(typeof k==="function")F&&(k=(0,g.ry)(k,F));else if(k&&typeof k.handleEvent==="function")k=(0,g.ry)(k.handleEvent,k);else throw Error("Invalid listener argument");this.K=k},vX=function(k,F,a=!1,V=()=>"",M=!1,C=!1,X=!1,U=()=>g.Yu({}),y,n=!1,u=!1,K,q){this.uw=k;
this.D3=F;this.W=new g.mT;this.C=q;this.K=(this.O=!!K)?K(()=>{this.E$()}):new lE(this.E$,this);
this.D=null;this.X=!1;this.j=null;this.VX="";this.OO=this.I5=0;this.V=[];this.vA=a;this.cA=V;this.T=C;this.a5=U;this.Jl=y;this.yX=X;this.QX=null;this.Z=g.Yu();this.Dl=M;this.Yw=n;this.E3=u;this.L6=new gxz;this.TL=new TIX;this.n6=new IVm;this.PA=new maI;this.Ml=new Syk;this.iI=new ZiR;this.gB=new efS},daz=function(k,F,a,V,M){cX(k);
if(k.D){const C=g.v("ID_TOKEN"),X=k.D.Wr||{};C?X["x-youtube-identity-token"]=C:delete X["x-youtube-identity-token"];k.D.Wr=X}pn(k);V?(V.getState()!=3&&CKI(V)==0||V.getState(),k.D.connect(F,a,k.D3,V.V,V.X7)):M?k.D.connect(F,a,k.D3,M.sessionId,M.arrayId):k.D.connect(F,a,k.D3);k.O&&!k.K.isActive()&&k.K.start();k.C&&k.C.UpA()},Him=function(k,F){return k.E3?!0:k.Yw?!Object.values(PKB).includes(F):!1},JE8=async function(k){try{await to(k)}finally{var F=k.V;
k.V=[];var a=F;F=F.length;for(let V=0;V<F;++V)xO(k.D,a[V]);Ln(k);Ln(k)}},Ln=function(k){k.publish("handlerOpened");
k.L6.D("BROWSER_CHANNEL")},cX=function(k){if(k.D){const F=k.cA(),a=k.D.Wr||{};
F?a["x-youtube-lounge-xsrf-token"]=F:delete a["x-youtube-lounge-xsrf-token"];k.D.Wr=a}},to=function(k){if(!k.yX)return QYz(k);
k.QX===null&&(k.QX=QYz(k));return k.QX},QYz=function(k){return g.LF(k.a5().then(F=>{rEQ(k,F)}).d8(()=>{}),()=>{k.QX=null})},rEQ=function(k,F){if(k.D){let a=k.D.Wr||{};
F&&Object.keys(F).length>0?a={...a,...F}:delete a.Authorization;k.D.Wr=a}},pn=function(k){k.Jl&&!k.T&&rEQ(k,k.Jl())},Rl=function(k){this.scheme="https";
this.port=this.domain="";this.D="/api/lounge";this.K=!0;k=k||document.location.href;const F=Number(g.kl(k)[4]||null)||"";F&&(this.port=":"+F);this.domain=g.aR(k)||"";k=g.go();k.search("MSIE")>=0&&(k=k.match(/MSIE ([\d.]+)/)[1],g.qK(k,"10.0")<0&&(this.K=!1))},jj=function(k,F){let a=k.D;
k.K&&(a=k.scheme+"://"+k.domain+k.port+k.D);return g.uS(a+F,{})},hfm=function(k){g.Uo(k.channel,"m",()=>{k.C=3;
k.O.reset();k.W=null;k.T=0;for(const F of k.j)k.channel&&k.channel.send(F);k.j=[];k.publish("webChannelOpened");k.cA.D("WEB_CHANNEL")});
g.Uo(k.channel,"n",()=>{k.C=0;k.O.isActive()||k.publish("webChannelClosed");const F=k.channel?.V().O();F&&(k.j=[...F]);k.OO.D("WEB_CHANNEL")});
g.Uo(k.channel,"p",F=>{const a=F.data;a[0]==="gracefulReconnect"?(k.O.start(),k.channel&&k.channel.close()):k.publish("webChannelMessage",new qy7(a[0],a[1]));k.mf=F.statusCode;k.QX.D("WEB_CHANNEL")});
g.Uo(k.channel,"o",()=>{k.mf===401||k.O.start();k.publish("webChannelError");k.VX.D("WEB_CHANNEL","")})},WX=function(k){const F=k.D3();
F?k.V["x-youtube-lounge-xsrf-token"]=F:delete k.V["x-youtube-lounge-xsrf-token"]},YyL=function(k,F,a=()=>"",V,M){const C=()=>new vX(jj(k,"/bc"),F,!1,a,V);
return g.x9("enable_mdx_web_channel_desktop")?new xaS(()=>new AEL(jj(k,"/wc"),F,a)):new BI7(C,M)},cEk=function(){var k=OiR;
lVm();$O.push(k);vxR()},EG=function(k,F){lVm();
const a=pBR(k,String(F));$O.length==0?tUX(a):(vxR(),g.fQ($O,function(V){V(a)}))},ND=function(k){EG("CP",k)},lVm=function(){$O||($O=g.mw("yt.mdx.remote.debug.handlers_")||[],g.IH("yt.mdx.remote.debug.handlers_",$O))},tUX=function(k){const F=(D4+1)%50;
D4=F;iE[F]=k;fn||(fn=F==49)},vxR=function(){var k=$O;
if(iE[0]){var F=fn?D4:-1;do{F=(F+1)%50;const a=iE[F];g.fQ(k,function(V){V(a)})}while(F!=D4);
iE=Array(50);D4=-1;fn=!1}},pBR=function(k,F){let a=(Date.now()-LlB)/1E3;
a.toFixed&&(a=a.toFixed(3));const V=[];V.push("[",a+"s","] ");V.push("[","yt.mdx.remote","] ");V.push(k+": "+F,"\n");return V.join("")},zi=function(k){g.w4.call(this);
this.C=k;this.screens=[]},Rfm=function(k,F){const a=k.get(F.uuid)||k.get(F.id);
if(a)return k=a.name,a.id=F.id||a.id,a.name=F.name,a.token=F.token,a.uuid=F.uuid||a.uuid,a.name!=k;k.screens.push(F);return!0},jYC=function(k,F){let a=k.screens.length!=F.length;
k.screens=g.Gm(k.screens,function(M){return!!mt(F,M)});
const V=F.length;for(let M=0;M<V;M++)a=Rfm(k,F[M])||a;return a},Wlz=function(k,F){const a=k.screens.length;
k.screens=g.Gm(k.screens,function(V){return!(V||F?!V!=!F?0:V.id==F.id:1)});
return k.screens.length<a},bE=function(k){zi.call(this,"LocalScreenService");
this.K=k;this.D=NaN;Gi(this);this.info("Initializing with "+Tu(this.screens))},$ak=function(k){if(k.screens.length){const F=g.bb(k.screens,function(V){return V.id}),a=jj(k.K,"/pairing/get_lounge_token_batch");
k.K.sendRequest("POST",a,{screen_ids:F.join(",")},(0,g.ry)(k.Yb,k),(0,g.ry)(k.qJ,k))}},Gi=function(k){if(g.x9("deprecate_pair_servlet_enabled"))return jYC(k,[]);
var F=tlC(ElS());F=g.Gm(F,function(a){return!a.uuid});
return jYC(k,F)},w2=function(k,F){DhR(g.bb(k.screens,cYL));
F&&NUI()},kK=function(k){EG("OnlineScreenService",k)},FZ=function(k){isNaN(k.O)||g.QW(k.O);
k.O=g.HM((0,g.ry)(k.T,k),k.V>0&&k.V<g.xp()?2E4:1E4)},an=function(k,F){a:if(XD(F)!=XD(k.D))var a=!1;
else{a=g.Rm(F);var V=a.length;for(let M=0;M<V;++M)if(!k.D[a[M]]){a=!1;break a}a=!0}a||(kK("Updated online screens: "+g.uN(k.D)),k.D=F,k.publish("screenChange"));ExS(k)},V2=function(k,F,a){const V=jj(k.Z,"/pairing/get_screen_availability");
k.Z.sendRequest("POST",V,{lounge_token:F.token},(0,g.ry)(function(M){M=M.screens||[];const C=M.length;for(let X=0;X<C;++X)if(M[X].loungeToken==F.token){a(M[X].status=="online");return}a(!1)},k),(0,g.ry)(function(){a(!1)},k))},ExS=function(k){k=g.Rm(g.YB(k.D,function(F){return F}));
g.rk(k);k.length?g.z5("yt-remote-online-screen-ids",k.join(","),60):g.bc("yt-remote-online-screen-ids")},NI7=function(k){const F={};
g.fQ(k.C(),function(a){a.token?F[a.token]=a.id:this.Km("Requesting availability of screen w/o lounge token.")});
return F},MX=function(k,F=!1){zi.call(this,"ScreenService");
this.V=k;this.T=F;this.D=this.K=null;this.O=[];this.Z={};Dak(this)},fVz=function(k,F,a,V,M,C){k.info("getAutomaticScreenByIds "+a+" / "+F);
a||(a=k.Z[F]);const X=k.lR();let U=a?SA(X,a):null;a&&(k.T||U)||(U=SA(X,F));if(U){U.uuid=F;const y=Cx(k,U);V2(k.D,y,function(n){M(n?y:null)})}else a?iiR(k,a,(0,g.ry)(function(y){const n=Cx(this,new K4({name:V,
screenId:a,loungeToken:y,dialId:F||""}));V2(this.D,n,function(u){M(u?n:null)})},k),C):M(null)},zfS=function(k,F){const a=k.screens.length;
for(let V=0;V<a;++V)if(k.screens[V].name==F)return k.screens[V];return null},GRm=function(k,F,a){V2(k.D,F,a)},iiR=function(k,F,a,V){k.info("requestLoungeToken_ for "+F);
const M={postParams:{screen_ids:F},method:"POST",context:k,onSuccess:function(C,X){C=X&&X.screens||[];C[0]&&C[0].screenId==F?a(C[0].loungeToken):V(Error("Missing lounge token in token response"))},
onError:function(){V(Error("Request screen lounge token failed"))}};
g.vM(jj(k.V,"/pairing/get_lounge_token_batch"),M)},biI=function(k){k.screens=k.K.lR();
var F=k.Z;const a={};for(var V in F)a[F[V]]=V;F=k.screens.length;for(V=0;V<F;++V){const M=k.screens[V];M.uuid=a[M.id]||""}k.info("Updated manual screens: "+Tu(k.screens))},Dak=function(k){sl(k);
k.K=new bE(k.V);k.K.subscribe("screenChange",(0,g.ry)(k.yv,k));biI(k);k.T||(k.O=tlC(g.G5("yt-remote-automatic-screen-cache")||[]));sl(k);k.info("Initializing automatic screens: "+Tu(k.O));k.D=new wBR(k.V,(0,g.ry)(k.lR,k,!0));k.D.subscribe("screenChange",(0,g.ry)(function(){this.publish("onlineScreenChange")},k))},Cx=function(k,F){var a=k.get(F.id);
a?(a.uuid=F.uuid,F=a):((a=SA(k.O,F.uuid))?(a.id=F.id,a.token=F.token,F=a):k.O.push(F),k.T||k2m(k));sl(k);k.Z[F.uuid]=F.id;g.z5("yt-remote-device-id-map",k.Z,31536E3);return F},k2m=function(k){k=g.Gm(k.O,F=>F.idType!="shortLived");
g.z5("yt-remote-automatic-screen-cache",g.bb(k,cYL))},sl=function(k){k.Z=g.G5("yt-remote-device-id-map")||{}},XZ=function(k,F,a){g.w4.call(this);
this.VX=a;this.V=k;this.K=F;this.D=null},Ul=function(k,F){k.D=F;
k.publish("sessionScreen",k.D)},FdZ=function(k,F){k.D&&(k.D.token=F,Cx(k.V,k.D));
k.publish("sessionScreen",k.D)},y2=function(k,F){EG(k.VX,F)},VoQ=function(k,F){g.QW(k.I5);
k.I5=0;F?k.config_.enableCastLoungeToken&&F.loungeToken?F.deviceId?k.D&&k.D.uuid==F.deviceId||(F.loungeTokenRefreshIntervalMs?atz(k,{name:k.K.friendlyName,screenId:F.screenId,loungeToken:F.loungeToken,dialId:F.deviceId,screenIdType:"shortLived"},F.loungeTokenRefreshIntervalMs):(g.k9(Error(`No loungeTokenRefreshIntervalMs presents in mdxSessionStatusData: ${JSON.stringify(F)}.`)),on(k,F.screenId))):(g.k9(Error(`No device id presents in mdxSessionStatusData: ${JSON.stringify(F)}.`)),on(k,F.screenId)):
on(k,F.screenId):k.F3(Error("Waiting for session status timed out."))},Moz=function(k){g.QW(k.X);
k.X=0;g.QW(k.T);k.T=0;g.QW(k.I5);k.I5=0;g.QW(k.Z);k.Z=0;g.QW(k.W);k.W=0},C5k=function(k,F){k.info("sendYoutubeMessage_: "+F+" "+g.uN());
const a={};a.type=F;k.O?k.O.sendMessage("urn:x-cast:com.google.youtube.mdx",a,()=>{},(0,g.ry)(function(){y2(this,"Failed to send message: "+F+".")},k)):y2(k,"Sending yt message without session: "+g.uN(a))},XNS=function(k){C5k(k,"getLoungeToken");
g.QW(k.Z);k.Z=g.HM(()=>{srB(k,null)},3E4)},nx=function(k,F){g.QW(k.W);
k.W=0;F==0?XNS(k):k.W=g.HM(()=>{XNS(k)},F)},srB=function(k,F){g.QW(k.Z);
k.Z=0;let a=null;F?F.loungeToken?k.D?.token==F.loungeToken&&(a="staleLoungeToken"):a="missingLoungeToken":a="noLoungeTokenResponse";a?(k.info("Did not receive a new lounge token in onLoungeToken_ with "+`data: ${JSON.stringify(F)}, error: ${a}`),nx(k,3E4)):(FdZ(k,F.loungeToken),nx(k,F.loungeTokenRefreshIntervalMs))},on=function(k,F){F?(k.info("onConnectedScreenId_: Received screenId: "+F),k.D&&k.D.id==F||k.QX(F,a=>{Ul(k,a)},()=>k.F3(),5)):k.F3(Error("Waiting for session status timed out."))},UAX=
function(k,F,a,V){g.QW(k.T);
k.T=0;GRm(k.V,F,M=>{M||V<0?a(M):k.T=g.HM(()=>{UAX(k,F,a,V-1)},300)})},atz=function(k,F,a){k.info(`onConnectedScreenData_: Received screenData: ${JSON.stringify(F)}`);
const V=new K4(F);UAX(k,V,M=>{M?(Cx(k.V,V),Ul(k,V),nx(k,a)):(g.k9(Error(`CastSession, RemoteScreen from screenData: ${JSON.stringify(F)} is not online.`)),k.F3())},5)},uu=function(k){return new Promise(F=>{k.D3=I1();
if(k.cA){const a=new chrome.cast.DialLaunchResponse(!0,y5z(k));F(a);otz(k)}else k.j=()=>{g.QW(k.I5);k.j=()=>{};
k.I5=NaN;const a=new chrome.cast.DialLaunchResponse(!0,y5z(k));F(a);otz(k)},k.I5=g.HM(()=>{k.j()},100)})},ntB=function(k){g.QW(k.T);
k.T=0;g.QW(k.W);k.W=0;k.Z();k.Z=()=>{};
g.QW(k.I5)},Kx=function(k){return!(!k.config_.enableDialLoungeToken||!k.O?.getDialAppInfo)},qX=function(k,F){k.info(`getDialAppInfoWithTimeout_ ${F}`);
Kx(k)&&(g.QW(k.W),k.W=0,F==0?uu8(k):k.W=g.HM(()=>{uu8(k)},F))},otz=function(k){k.Z=k.V.wp(k.D3,k.K.label,k.K.friendlyName,Kx(k),(F,a)=>{k.Z=()=>{};
Ul(k,F);F.idType=="shortLived"&&a>0&&qX(k,a)},F=>{k.Z=()=>{};
k.F3(F)})},y5z=function(k){var F={};
F.pairingCode=k.D3;F.theme=k.Jl;foS()&&(F.env_useStageMdx=1);return g.n0(F)},KdB=function(k,F){const a=k.X.receiver.label,V=k.K.friendlyName;
return(new Promise(M=>{fVz(k.V,a,F,V,C=>{C&&C.token&&Ul(k,C);M(C)},C=>{y2(k,"Failed to get DIAL screen: "+C);
M(null)})})).then(M=>M&&M.token?new chrome.cast.DialLaunchResponse(!1):uu(k))},gt7=function(k,F,a){k.info(`initOnConnectedScreenDataPromise_: Received screenData: ${JSON.stringify(F)}`);
const V=new K4(F);return(new Promise(M=>{qSm(k,V,C=>{C?(Cx(k.V,V),Ul(k,V),qX(k,a)):g.k9(Error(`DialSession, RemoteScreen from screenData: ${JSON.stringify(F)} is not online.`));M(C)},5)})).then(M=>M?new chrome.cast.DialLaunchResponse(!1):uu(k))},qSm=function(k,F,a,V){g.QW(k.T);
k.T=0;GRm(k.V,F,M=>{M||V<0?a(M):k.T=g.HM(()=>{qSm(k,F,a,V-1)},300)})},uu8=function(k){Kx(k)&&k.O.getDialAppInfo(F=>{k.info(`getDialAppInfo dialLaunchData: ${JSON.stringify(F)}`);
F=F.extraData||{};let a=null;F.loungeToken?k.D?.token==F.loungeToken&&(a="staleLoungeToken"):a="missingLoungeToken";a?qX(k,3E4):(FdZ(k,F.loungeToken),qX(k,F.loungeTokenRefreshIntervalMs))},F=>{k.info(`getDialAppInfo error: ${F}`);
qX(k,3E4)})},OiR=function(k){window.chrome&&chrome.cast&&chrome.cast.logMessage&&chrome.cast.logMessage(k)},ItL=function(k){const F=k.K.ek();
let a=k.D&&k.D.K;k=g.bb(F,function(V){a&&qR(V,a.label)&&(a=null);const M=V.uuid?V.uuid:V.id;let C=TFk(this,V);C?(C.label=M,C.friendlyName=V.name):(C=new chrome.cast.Receiver(M,V.name),C.receiverType=chrome.cast.ReceiverType.CUSTOM);return C},k);
a&&(a.receiverType!=chrome.cast.ReceiverType.CUSTOM&&(a=new chrome.cast.Receiver(a.label,a.friendlyName),a.receiverType=chrome.cast.ReceiverType.CUSTOM),k.push(a));return k},gC=function(k){return k.W||!!k.O.length||!!k.D},Te=function(k){EG("Controller",k)},In=function(k,F,a){F!=k.D&&(g.f0(k.D),(k.D=F)?(a?k.publish("yt-remote-cast2-receiver-resumed",F.K):k.publish("yt-remote-cast2-receiver-selected",F.K),F.subscribe("sessionScreen",(0,g.ry)(k.I5,k,F)),F.subscribe("sessionFailed",()=>mAQ(k,F)),F.D?
k.publish("yt-remote-cast2-session-change",F.D):a&&k.D.C(null)):k.publish("yt-remote-cast2-session-change",null))},TFk=function(k,F){return F?g.sm(k.O,function(a){return qR(F,a.label)},k):null},mAQ=function(k,F){k.D==F&&k.publish("yt-remote-cast2-session-failed")},HvC=function(k,F,a,V){V.disableCastApi?mU("Cannot initialize because disabled by Mdx config."):SSX()?ZvX(F,V)&&(Sn(!0),window.chrome&&chrome.cast&&chrome.cast.isAvailable?ePL(k,a):(window.__onGCastApiAvailable=function(M,C){M?ePL(k,a):(ZK("Failed to load cast API: "+
C),en(!1),Sn(!1),g.bc("yt-remote-cast-available"),g.bc("yt-remote-cast-receiver"),dAX(),a(!1))},V.loadCastApiSetupScript?g.kQ(P5R):window.navigator.userAgent.indexOf("Android")>=0&&window.navigator.userAgent.indexOf("Chrome/")>=0&&window.navigator.presentation?rb()>=60&&a_7():!window.chrome||!window.navigator.presentation||window.navigator.userAgent.indexOf("Edge")>=0?xE():rb()>=89?MMk():(A8(),h8(VMR.map(wcm))))):mU("Cannot initialize because not running Chrome")},dAX=function(){mU("dispose");
const k=dC();k&&k.dispose();g.IH("yt.mdx.remote.cloudview.instance_",null);J58(!1);g.b0(Pv);Pv.length=0},Hv=function(){return!!g.G5("yt-remote-cast-installed")},QrX=function(){const k=g.G5("yt-remote-cast-receiver");
return k?k.friendlyName:null},r5R=function(){mU("clearCurrentReceiver");
g.bc("yt-remote-cast-receiver")},hP7=function(){return Hv()?dC()?dC().getCastSession():(ZK("getCastSelector: Cast is not initialized."),null):(ZK("getCastSelector: Cast API is not installed!"),null)},Q2=function(){Hv()?dC()?JF()?(mU("Requesting cast selector."),dC().requestSession()):(mU("Wait for cast API to be ready to request the session."),Pv.push(g.G0("yt-remote-cast2-api-ready",Q2))):ZK("requestCastSelector: Cast is not initialized."):ZK("requestCastSelector: Cast API is not installed!")},rC=
function(k,F){JF()?dC().setConnectedScreenStatus(k,F):ZK("setConnectedScreenStatus called before ready.")},SSX=function(){var k=g.go().search(/ (CrMo|Chrome|CriOS)\//)>=0;
return g.GC||k},xAS=function(k,F){dC().init(k,F)},ZvX=function(k,F){let a=!1;
dC()||(k=new hF(k,F),k.subscribe("yt-remote-cast2-availability-change",function(V){g.z5("yt-remote-cast-available",V);QG("yt-remote-cast2-availability-change",V)}),k.subscribe("yt-remote-cast2-receiver-selected",function(V){mU("onReceiverSelected: "+V.friendlyName);
g.z5("yt-remote-cast-receiver",V);QG("yt-remote-cast2-receiver-selected",V)}),k.subscribe("yt-remote-cast2-receiver-resumed",function(V){mU("onReceiverResumed: "+V.friendlyName);
g.z5("yt-remote-cast-receiver",V);QG("yt-remote-cast2-receiver-resumed",V)}),k.subscribe("yt-remote-cast2-session-change",function(V){mU("onSessionChange: "+gb(V));
V||g.bc("yt-remote-cast-receiver");QG("yt-remote-cast2-session-change",V)}),g.IH("yt.mdx.remote.cloudview.instance_",k),a=!0);
mU("cloudview.createSingleton_: "+a);return a},dC=function(){return g.mw("yt.mdx.remote.cloudview.instance_")},ePL=function(k,F){en(!0);
Sn(!1);xAS(k,function(a){a?(J58(!0),g.wx("yt-remote-cast2-api-ready")):(ZK("Failed to initialize cast API."),en(!1),g.bc("yt-remote-cast-available"),g.bc("yt-remote-cast-receiver"),dAX());F(a)})},mU=function(k){EG("cloudview",k)},ZK=function(k){EG("cloudview",k)},en=function(k){mU("setCastInstalled_ "+k);
g.z5("yt-remote-cast-installed",k)},JF=function(){return!!g.mw("yt.mdx.remote.cloudview.apiReady_")},J58=function(k){mU("setApiReady_ "+k);
g.IH("yt.mdx.remote.cloudview.apiReady_",k)},Sn=function(k){g.IH("yt.mdx.remote.cloudview.initializing_",k)},xK=function(k){this.index=-1;
this.videoId=this.listId="";this.volume=this.playerState=-1;this.muted=!1;this.audioTrackId=null;this.Z=this.C=0;this.trackData=null;this.hasNext=this.hasPrevious=!1;this.loadedTime=this.O=this.T=this.K=0;this.D=NaN;this.V=!1;this.reset(k)},AF=function(k){k.audioTrackId=null;
k.trackData=null;k.playerState=-1;k.hasPrevious=!1;k.hasNext=!1;k.C=0;k.Z=g.xp();k.K=0;k.T=0;k.O=0;k.loadedTime=0;k.D=NaN;k.V=!1},Bv=function(k){return k.isPlaying()?(g.xp()-k.Z)/1E3:0},YK=function(k,F){k.C=F;
k.Z=g.xp()},Ol=function(k){switch(k.playerState){case 1:case 1081:return(g.xp()-k.Z)/1E3+k.C;
case -1E3:return 0}return k.C},A5R=function(k){return k.V?k.T+Bv(k):k.T},lu=function(k,F,a){const V=k.videoId;
k.videoId=F;k.index=a;F!=V&&AF(k)},vv=function(k){const F={};
F.index=k.index;F.listId=k.listId;F.videoId=k.videoId;F.playerState=k.playerState;F.volume=k.volume;F.muted=k.muted;F.audioTrackId=k.audioTrackId;F.trackData=g.G8(k.trackData);F.hasPrevious=k.hasPrevious;F.hasNext=k.hasNext;F.playerTime=k.C;F.playerTimeAt=k.Z;F.seekableStart=k.K;F.seekableEnd=k.T;F.duration=k.O;F.loadedTime=k.loadedTime;F.liveIngestionTime=k.D;return F},BFz=function(k){g.fQ("nowAutoplaying autoplayDismissed remotePlayerChange remoteQueueChange autoplayModeChange autoplayUpNext previousNextChange multiStateLoopEnabled loopModeChange".split(" "),
function(F){this.T.push(this.V.subscribe(F,g.hV(this.a5,F),this))},k)},cv=function(k,F){k.K&&(k.K.removeUpdateListener(k.j),k.K.removeMediaListener(k.X),k.C(null));
k.K=F;k.K&&(ND("Setting cast session: "+k.K.sessionId),k.K.addUpdateListener(k.j),k.K.addMediaListener(k.X),k.K.media.length&&k.C(k.K.media[0]))},px=function(k){return new xK(k.V.getPlayerContextData())},tF=function(k){return k.getState()==1},Rn=function(k,F,a){return(0,g.ry)(function(V){this.Km("Failed to "+F+" with cast v2 channel. Error code: "+V.code);
V.code!=chrome.cast.ErrorCode.TIMEOUT&&(this.Km("Retrying "+F+" using MDx browser channel."),Lx(this,F,a))},k)},Lx=function(k,F,a){k.V.sendMessage(F,a)},Wv=function(k,F,a){const V=px(k);
YK(V,a);V.playerState!=-1E3&&(V.playerState=F);jn(k,V)},$K=function(k,F){var a=k.Z;
a.D.length+a.K.length<50&&k.Z.enqueue(F)},jn=function(k,F){YS8(k);
k.V.setPlayerContextData(vv(F));BFz(k)},YS8=function(k){g.fQ(k.T,function(F){this.V.unsubscribeByKey(F)},k);
k.T.length=0},Ov7=function(k){const F=k.D.media,a=k.D.customData;
if(F&&a){var V=px(k);F.contentId!=V.videoId&&ND("Cast changing video to: "+F.contentId);V.videoId=F.contentId;V.playerState=a.playerState;YK(V,k.D.getEstimatedTime());jn(k,V)}else ND("No cast media video. Ignoring state update.")},lt8=function(k){El("Channel opened");
k.QX&&(k.QX=!1,NX(k),k.VX=g.HM(()=>{El("Timing out waiting for a screen.");k.T(1)},15E3))},DAC=function(k,F){F=F.message;
F.params?El("Received: action="+F.action+", params="+g.uN(F.params)):El("Received: action="+F.action+" {}");switch(F.action){case "loungeStatus":F=UU(F.params.devices);k.O=g.bb(F,function(V){return new u4(V)});
F=!!g.sm(k.O,function(V){return V.type=="LOUNGE_SCREEN"});
vtm(k,F);F=k.TL("mlm");k.publish("multiStateLoopEnabled",F);break;case "loungeScreenDisconnected":g.gk(k.O,function(V){return V.type=="LOUNGE_SCREEN"});
vtm(k,!1);break;case "remoteConnected":let a=new u4(UU(F.params.device));g.sm(k.O,function(V){return V.equals(a)})||QRz(k.O,a);
break;case "remoteDisconnected":a=new u4(UU(F.params.device));g.gk(k.O,function(V){return V.equals(a)});
break;case "gracefulDisconnect":break;case "playlistModified":c5Z(k,F,"QUEUE_MODIFIED");break;case "nowPlaying":pNz(k,F);break;case "onStateChange":toZ(k,F);break;case "onAdStateChange":LdR(k,F);break;case "onVolumeChanged":RPS(k,F);break;case "onSubtitlesTrackChanged":jrB(k,F);break;case "nowAutoplaying":WdS(k,F);break;case "autoplayDismissed":k.publish("autoplayDismissed");break;case "autoplayUpNext":$Az(k,F);break;case "onAutoplayModeChanged":Et7(k,F);break;case "onHasPreviousNextChanged":NFI(k,
F);break;case "requestAssistedSignIn":k.publish("assistedSignInRequested",F.params.authCode);break;case "onLoopModeChanged":k.publish("loopModeChange",F.params.loopMode);break;default:El("Unrecognized action: "+F.action)}},El=function(k){EG("conn",k)},ivC=function(k){k.C=g.HM(()=>{El("Connecting timeout");
k.T(1)},2E4)},DK=function(k,F){k.publish("proxyStateChange",F)},iu=function(k){g.QW(k.C);
k.C=NaN},fx=function(k){g.QW(k.OO);
k.OO=NaN},NX=function(k){g.QW(k.VX);
k.VX=NaN},ftZ=function(k){return g.sm(k.O,function(F){return F.type=="LOUNGE_SCREEN"})},ze=function(k,F,a){a?El("Sending: action="+F+", params="+g.uN(a)):El("Sending: action="+F);
k.K.sendMessage(F,a)},zPI=function(k){fx(k);
k.OO=g.HM(()=>{ze(k,"getNowPlaying")},2E4)},G2C=function(k){g.QW(k.j);
k.j=g.HM(()=>{k.T(1)},864E5)},vtm=function(k,F){var a=null;
if(F){const V=ftZ(k);V&&(a={clientName:V.clientName,deviceMake:V.brand,deviceModel:V.model,osVersion:V.osVersion})}g.IH("yt.mdx.remote.remoteClient_",a);F&&(iu(k),NX(k));a=k.K.ER()&&isNaN(k.C);F==a?F&&(DK(k,1),ze(k,"getSubtitlesTrack")):F?(k.uw()&&k.D.reset(),DK(k,1),ze(k,"getNowPlaying"),G2C(k)):k.T(1)},jrB=function(k,F){const a=F.params.videoId;
delete F.params.videoId;a==k.D.videoId&&(g.NL(F.params)?k.D.trackData=null:k.D.trackData=F.params,k.publish("remotePlayerChange"))},c5Z=function(k,F,a){const V=F.params.videoId||F.params.video_id,M=parseInt(F.params.currentIndex,10);
k.D.listId=F.params.listId||k.D.listId;lu(k.D,V,M);k.publish("remoteQueueChange",a)},toZ=function(k,F){var a=parseInt(F.params.currentTime||F.params.current_time,10);
YK(k.D,isNaN(a)?0:a);a=parseInt(F.params.state,10);a=isNaN(a)?-1:a;a==-1&&k.D.playerState==-1E3&&(a=-1E3);k.D.playerState=a;a=Number(F.params.loadedTime);k.D.loadedTime=isNaN(a)?0:a;k.D.wE(Number(F.params.duration));a=k.D;var V=Number(F.params.liveIngestionTime);a.D=V;a.V=isNaN(V)?!1:!0;a=k.D;V=Number(F.params.seekableStartTime);F=Number(F.params.seekableEndTime);a.K=isNaN(V)?0:V;a.T=isNaN(F)?0:F;k.D.playerState==1?zPI(k):fx(k);k.publish("remotePlayerChange")},pNz=function(k,F){F.params=F.params||
{};
c5Z(k,F,"NOW_PLAYING_MAY_CHANGE");toZ(k,F);k.publish("autoplayDismissed")},LdR=function(k,F){if(k.D.playerState!=-1E3){var a=1085;
switch(parseInt(F.params.adState,10)){case 1:a=1081;break;case 2:a=1084;break;case 0:a=1083}k.D.playerState=a;F=parseInt(F.params.currentTime,10);YK(k.D,isNaN(F)?0:F);k.publish("remotePlayerChange")}},RPS=function(k,F){const a=F.params.muted=="true";
k.D.volume=parseInt(F.params.volume,10);k.D.muted=a;k.publish("remotePlayerChange")},WdS=function(k,F){k.W=F.params.videoId;
k.publish("nowAutoplaying",parseInt(F.params.timeout,10))},$Az=function(k,F){k.W=F.params.videoId||null;
k.publish("autoplayUpNext",k.W)},Et7=function(k,F){k.Z=F.params.autoplayMode;
k.publish("autoplayModeChange",k.Z);k.Z=="DISABLED"&&k.publish("autoplayDismissed")},NFI=function(k,F){const a=F.params.hasNext=="true";
k.D.hasPrevious=F.params.hasPrevious=="true";k.D.hasNext=a;k.publish("previousNextChange")},FoR=function(k,F){i08();
if(!J8||!J8.get("yt-remote-disable-remote-module-for-dev")){F=g.v("MDX_CONFIG")||F;R2m();P3();Ge||(Ge=new Rl(F?F.loungeApiHost:void 0),foS()&&(Ge.D="/api/loungedev"));bu||(bu=g.mw("yt.mdx.remote.deferredProxies_")||[],g.IH("yt.mdx.remote.deferredProxies_",bu));bv7();var a=wC();if(!a){const M=new MX(Ge,F?F.disableAutomaticScreenCache||!1:!1);g.IH("yt.mdx.remote.screenService_",M);a=wC();var V={};F&&(V={appId:F.appId,disableDial:F.disableDial,theme:F.theme,loadCastApiSetupScript:F.loadCastApiSetupScript,
disableCastApi:F.disableCastApi,enableDialLoungeToken:F.enableDialLoungeToken,enableCastLoungeToken:F.enableCastLoungeToken,forceMirroring:F.forceMirroring});g.IH("yt.mdx.remote.enableConnectWithInitialState_",F?F.enableConnectWithInitialState||!1:!1);HvC(k,M,function(C){C?kC()&&rC(kC(),"YouTube TV"):M.subscribe("onlineScreenChange",function(){QG("yt-remote-receiver-availability-change")})},V)}F&&!g.mw("yt.mdx.remote.initialized_")&&(g.IH("yt.mdx.remote.initialized_",!0),F7("Initializing: "+g.uN(F)),
ad.push(g.G0("yt-remote-cast2-api-ready",function(){QG("yt-remote-api-ready")})),ad.push(g.G0("yt-remote-cast2-availability-change",function(){QG("yt-remote-receiver-availability-change")})),ad.push(g.G0("yt-remote-cast2-receiver-selected",function(){VR(null);
QG("yt-remote-auto-connect","cast-selector-receiver")})),ad.push(g.G0("yt-remote-cast2-receiver-resumed",function(){QG("yt-remote-receiver-resumed","cast-selector-receiver")})),ad.push(g.G0("yt-remote-cast2-session-change",wNB)),ad.push(g.G0("yt-remote-connection-change",function(M){M?rC(kC(),"YouTube TV"):MV()||(rC(null,null),r5R())})),ad.push(g.G0("yt-remote-cast2-session-failed",()=>{QG("yt-remote-connection-failed")})),k=Ce(),F.isAuto&&(k.id+="#dial"),V=F.capabilities||[],V.length>0&&(k.capabilities=
V),k.name=F.device,k.app=F.app,(F=F.theme)&&(k.theme=F),F7(" -- with channel params: "+g.uN(k)),k?(g.z5("yt-remote-session-app",k.app),g.z5("yt-remote-session-name",k.name)):(g.bc("yt-remote-session-app"),g.bc("yt-remote-session-name")),g.IH("yt.mdx.remote.channelParams_",k),a.start(),kC()||knk())}},abQ=function(){var k=wC().OE.$_gos();
const F=sE();F&&X7()&&(mt(k,F)||k.push(F));return Lcz(k)},UE=function(){let k=V1I();
!k&&Hv()&&QrX()&&(k={key:"cast-selector-receiver",name:QrX()});return k},V1I=function(){const k=abQ();
let F=sE();F||(F=MV());return g.sm(k,function(a){return F&&qR(F,a.key)?!0:!1})},sE=function(){const k=kC();
if(!k)return null;const F=wC().lR();return SA(F,k)},wNB=function(k){F7("remote.onCastSessionChange_: "+gb(k));
if(k){var F=sE();if(F&&F.id==k.id){if(rC(F.id,"YouTube TV"),k.idType=="shortLived"&&(k=k.token))yR&&(yR.token=k),(F=X7())&&F.Qs(k)}else F&&od(),ne(k,1)}else X7()&&od()},od=function(){JF()?dC().stopSession():ZK("stopSession called before API ready.");
const k=X7();k&&(k.disconnect(1),u3(null))},Ke=function(){const k=X7();
return!!k&&k.getProxyState()!=3},F7=function(k){EG("remote",k)},wC=function(){if(!qV){const k=g.mw("yt.mdx.remote.screenService_");
qV=k?new M18(k):null}return qV},kC=function(){return g.mw("yt.mdx.remote.currentScreenId_")},C$m=function(k){g.IH("yt.mdx.remote.currentScreenId_",k)},sxk=function(){return g.mw("yt.mdx.remote.connectData_")},VR=function(k){g.IH("yt.mdx.remote.connectData_",k)},X7=function(){return g.mw("yt.mdx.remote.connection_")},u3=function(k){const F=X7();
VR(null);k||C$m("");g.IH("yt.mdx.remote.connection_",k);bu&&(g.fQ(bu,function(a){a(k)}),bu.length=0);
F&&!k?QG("yt-remote-connection-change",!1):!F&&k&&QG("yt-remote-connection-change",!0)},MV=function(){const k=g.wq();
if(!k)return null;var F=wC();if(!F)return null;F=F.lR();return SA(F,k)},ne=function(k,F){kC();
sE()&&sE();if(gn)yR=k;else{C$m(k.id);var a=g.mw("yt.mdx.remote.enableConnectWithInitialState_")||!1;k=new Tl(k,a);k.connect(F,sxk());k.subscribe("beforeDisconnect",function(V){QG("yt-remote-before-disconnect",V)});
k.subscribe("beforeDispose",function(){X7()&&(X7(),u3(null))});
k.subscribe("browserChannelAuthError",()=>{const V=sE();V&&V.idType=="shortLived"&&(JF()?dC().handleBrowserChannelAuthError():ZK("refreshLoungeToken called before API ready."))});
u3(k)}},knk=function(){const k=MV();
k?(F7("Resume connection to: "+gb(k)),ne(k,0)):(H3(),r5R(),F7("Skipping connecting because no session screen found."))},bv7=function(){var k=Ce();
if(g.NL(k)){k=db();var F=g.G5("yt-remote-session-name")||"";const a=g.G5("yt-remote-session-app")||"";k={device:"REMOTE_CONTROL",id:k,name:F,app:a,mdxVersion:3};k.authuser=String(g.v("SESSION_INDEX","0"));(F=g.v("DELEGATED_SESSION_ID"))&&(k.pageId=String(F));g.IH("yt.mdx.remote.channelParams_",k)}},Ce=function(){return g.mw("yt.mdx.remote.channelParams_")||{}},XhQ=function(k,F){if(Id(k)){k.BB.unsubscribe("remotePlayerChange",k.Z,k);
const a=Math.round(F.volume);F=!!F.muted;const V=px(k.BB);if(a!==V.volume||F!==V.muted)k.BB.setVolume(a,F),k.j.start();k.BB.subscribe("remotePlayerChange",k.Z,k)}},Id=function(k){return px(k.BB).videoId===m6(k).videoId},Si=function(k,F){let a,V;
var M=k.J.getPlaylist();M?.listId&&(a=M.index,V=M.listId.toString());M=m6(k);k.BB.playVideo(M.videoId,F,a,V,M.playerParams,M.D3,JY8(M));k.Kf(new g.yl(1))},ZX=function(k,F){if(Id(k)&&!k.C){let a=null;
F&&(a={style:k.J.getSubtitlesUserSettings()},Object.assign(a,F));k.BB.W(m6(k).videoId,a);k.V=px(k.BB).trackData}},Uw8=function(k,F){if(F){const a=k.J.getOption("captions","tracklist",{Vy:1});
a&&a.length?(k.J.setOption("captions","track",F),k.C=!1):(k.J.loadModule("captions"),k.C=!0)}else k.J.setOption("captions","track",{})},ywQ=function(k){k.iP(0);
k.K.stop();k.Kf(new g.yl(64))},m6=function(k){return k.J.getVideoData({playerType:1})},ouB=function(k){const F=k.player.S();
return!F.A("mdx_enable_privacy_disclosure_ui")||k.isLoggedIn()||k.x$||!k.UG?!1:g.nE(F)||g.qH(F)},nuC=function(k,F,a){k.d$=a;
k.player.publish("presentingplayerstatechange",new g.SF(a,F))},ei=function(k,F,...a){k.loaded&&k.CQ.DE(F,...a)},dn=function(k){k.Qp&&(k.player.removeEventListener("presentingplayerstatechange",k.Qp),k.Qp=null)},PO=function(k,F){if(F.key!==k.E1.key)if(F.key===k.VG.key)od();
else if(ouB(k)&&uhX(k),k.E1=F,!g.R4(k.player.S())){{const C=k.player.getPlaylistId();var a=k.player.getVideoData({playerType:1});const X=a.videoId;if(!C&&!X||(k.player.getAppState()===2||k.player.getAppState()===1)&&k.player.S().A("should_clear_video_data_on_player_cued_unstarted"))a=null;else{var V=k.player.getPlaylist();if(V){var M=[];for(let U=0;U<V.length;U++)M[U]=g.ST(V,U).videoId}else M=[X];V=k.player.getCurrentTime(1);k={videoIds:M,listId:C,videoId:X,playerParams:a.playerParams,clickTrackingParams:a.D3,
index:Math.max(k.player.getPlaylistIndex(),0),currentTime:V===0?void 0:V};(a=JY8(a))&&(k.locationInfo=a);a=k}}F7("Connecting to: "+g.uN(F));F.key=="cast-selector-receiver"?(VR(a||null),F=a||null,JF()?dC().setLaunchParams(F):ZK("setLaunchParams called before ready.")):!a&&Ke()&&kC()==F.key?QG("yt-remote-connection-change",!0):(od(),VR(a||null),a=wC().lR(),(F=SA(a,F.key))&&ne(F,1))}},uhX=function(k){k.player.getPlayerStateObject().isPlaying()?k.player.pauseVideo():(k.Qp=F=>{!k.x$&&F.Df(8)&&(k.player.pauseVideo(),
dn(k))},k.player.addEventListener("presentingplayerstatechange",k.Qp));
k.UG&&k.UG.qg();X7()||(gn=!0)};
g.f3.prototype.sN=g.aH(46,function(){this.app.bL().sN()});
g.Ya.prototype.sN=g.aH(45,function(){this.It=null});
g.f3.prototype.j0=g.aH(44,function(k){this.app.bL().j0(k)});
g.Ya.prototype.j0=g.aH(43,function(k){this.It=k});
g.EN.prototype.t7=g.aH(1,function(){return g.kA(this,3)});
g.bh.prototype.t7=g.aH(0,function(){return g.kA(this,11)});
var gxz=class{constructor(){var k=g.$S();this.K=k;g.a9(k,"/client_streamz/youtube/living_room/mdx/channel/opened",g.So("channel_type"))}D(k){g.M1(this.K,"/client_streamz/youtube/living_room/mdx/channel/opened",k)}},TIX=class{constructor(){var k=g.$S();this.K=k;g.a9(k,"/client_streamz/youtube/living_room/mdx/channel/closed",g.So("channel_type"))}D(k){g.M1(this.K,"/client_streamz/youtube/living_room/mdx/channel/closed",k)}},maI=class{constructor(){var k=g.$S();this.K=k;g.a9(k,"/client_streamz/youtube/living_room/mdx/channel/message_received",
g.So("channel_type"))}D(k){g.M1(this.K,"/client_streamz/youtube/living_room/mdx/channel/message_received",k)}},IVm=class{constructor(){var k=g.$S();this.K=k;g.a9(k,"/client_streamz/youtube/living_room/mdx/channel/success")}D(){g.M1(this.K,"/client_streamz/youtube/living_room/mdx/channel/success")}},Syk=class{constructor(){var k=g.$S();this.K=k;g.a9(k,"/client_streamz/youtube/living_room/mdx/channel/error",g.So("channel_type"),g.So("error_type"))}D(k,F){g.M1(this.K,"/client_streamz/youtube/living_room/mdx/channel/error",
k,F)}},ZiR=class{constructor(){var k=g.$S();this.K=k;g.a9(k,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}D(){g.M1(this.K,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps")}},efS=class{constructor(){var k=g.$S();this.K=k;g.a9(k,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}D(){g.M1(this.K,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps")}};g.H=o1.prototype;
g.H.Hr=function(){n4(this);const k=[];for(let F=0;F<this.D.length;F++)k.push(this.K[this.D[F]]);return k};
g.H.jW=function(){n4(this);return this.D.concat()};
g.H.has=function(k){return yG(this.K,k)};
g.H.equals=function(k,F){if(this===k)return!0;if(this.size!=k.size)return!1;F=F||AYR;n4(this);let a;for(let V=0;a=this.D[V];V++)if(!F(this.get(a),k.get(a)))return!1;return!0};
g.H.isEmpty=function(){return this.size==0};
g.H.clear=function(){this.K={};this.D5=this.size=this.D.length=0};
g.H.remove=function(k){return this.delete(k)};
g.H.delete=function(k){return yG(this.K,k)?(delete this.K[k],--this.size,this.D5++,this.D.length>2*this.size&&n4(this),!0):!1};
g.H.get=function(k,F){return yG(this.K,k)?this.K[k]:F};
g.H.set=function(k,F){yG(this.K,k)||(this.size+=1,this.D.push(k),this.D5++);this.K[k]=F};
g.H.forEach=function(k,F){const a=this.jW();for(let V=0;V<a.length;V++){const M=a[V],C=this.get(M);k.call(F,C,M,this)}};
g.H.clone=function(){return new o1(this)};
g.H.keys=function(){return g.oJ(this.SW(!0)).D()};
g.H.values=function(){return g.oJ(this.SW(!1)).D()};
g.H.entries=function(){const k=this;return xh8(this.keys(),function(F){return[F,k.get(F)]})};
g.H.SW=function(k){n4(this);let F=0;const a=this.D5,V=this,M=new g.gf;M.next=function(){if(a!=V.D5)throw Error("The map has changed since the iterator was created");if(F>=V.D.length)return g.l8;const C=V.D[F++];return g.TQ(k?C:V.K[C])};
return M};
var lo7={IN:"atp",Rcl:"ska",pA6:"que",qe:"mus",LN5:"sus",Op:"dsp",ecX:"seq",W8:"mic",U2:"dpa",dQ:"mlm",h8:"dsdtr",H8:"ntb",PI5:"vsp",ip:"scn",hcL:"rpe",O2:"dcn",E2:"dcp",aO:"pas",Vz:"drq",Vt:"opf",A8:"els",C7:"isg",TU4:"svq",n1:"mvp",BN:"ads",yll:"stcp",s54:"sads",p7:"dloc",Qz:"dcw",HN:"asw",tF:"apw",lr:"wrc",Nu:"pcw",Dd:"ipv",E4:"ndt",zr:"ctops",yz:"gsrm"},vlk={TBw:"u",Gr:"cl",hx:"k",Pv:"i",XQ:"cr",YP:"m",d3:"g",uO:"up"},PKB={D9:"nowPlaying",gA:"onStateChange",hk:"adPlaying",Z9:"onAdStateChange",
Kk:"nowPlayingShorts",U4:"onShortsStateChange"};u4.prototype.equals=function(k){return k?this.id==k.id:!1};
var eA="",J8=null,FYm=z2z("loadCastFramework")||z2z("loadCastApplicationFramework"),VMR=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","enhhojjnijigcajfphajepfemndkmdlo"];g.Yp(B3,g.GB);g.H=B3.prototype;g.H.MS=function(k){this.V=arguments;this.D=!1;this.Rj?this.O=g.xp()+this.nJ:this.Rj=g.Gn(this.Z,this.nJ)};
g.H.stop=function(){this.Rj&&(g.Tm.clearTimeout(this.Rj),this.Rj=null);this.O=null;this.D=!1;this.V=[]};
g.H.pause=function(){++this.K};
g.H.resume=function(){this.K&&(--this.K,!this.K&&this.D&&(this.D=!1,this.C.apply(null,this.V)))};
g.H.p6=function(){this.stop();B3.dD.p6.call(this)};
g.H.Wy=function(){this.Rj&&(g.Tm.clearTimeout(this.Rj),this.Rj=null);this.O?(this.Rj=g.Gn(this.Z,this.O-g.xp()),this.O=null):this.K?this.D=!0:(this.D=!1,this.C.apply(null,this.V))};var OU=null;YE.prototype.set=function(k){this.D=k};
YE.prototype.reset=function(){this.set(g.xp())};
YE.prototype.get=function(){return this.D};g.Yp(sCX,CwI);var sG=class{stringify(k){return g.Tm.JSON.stringify(k,void 0)}parse(k){return g.Tm.JSON.parse(k,void 0)}};g.Yp(l4,g.wF);g.Yp(v3,g.wF);var XDL=null;g.Yp(USX,g.wF);g.Yp(yeS,g.wF);g.Yp(oLm,g.wF);R1.prototype.debug=function(){};
R1.prototype.info=function(){};
R1.prototype.warning=function(){};var Tfm={},Dg={};g.H=jA.prototype;g.H.setTimeout=function(k){this.PA=k};
g.H.SX=function(k){k=k.target;const F=this.uw;F&&g.HC(k)==3?F.V():this.IK(k)};
g.H.IK=function(k){try{if(k==this.D)a:{const M=g.HC(this.D),C=this.D.K,X=this.D.getStatus();if(!(M<3)&&(M!=3||this.D&&(this.K.K||g.rW(this.D)||g.hZ(this.D)))){this.QX||M!=4||C==7||(C==8||X<=0?p4(3):p4(2));i4(this);var F=this.D.getStatus();this.Yw=F;var a=gLZ(this);if(this.C=F==200){if(this.vA&&!this.a5){b:{if(this.D){const U=g.AZ(this.D,"X-HTTP-Initial-Response");if(U&&!g.yp(U)){var V=U;break b}}V=null}if(k=V)this.a5=!0,Vf(this,k);else{this.C=!1;this.Z=3;t8(12);EU(this);NR(this);break a}}if(this.VX){k=
!0;let U;for(;!this.QX&&this.T<a.length;)if(U=I_m(this,a),U==Dg){M==4&&(this.Z=4,t8(14),k=!1);break}else if(U==Tfm){this.Z=4;t8(15);k=!1;break}else Vf(this,U);qhQ(this)&&this.T!=0&&(this.K.D=this.K.D.slice(this.T),this.T=0);M!=4||a.length!=0||this.K.K||(this.Z=1,t8(16),k=!1);this.C=this.C&&k;k?a.length>0&&!this.yX&&(this.yX=!0,this.O.a_(this)):(EU(this),NR(this))}else Vf(this,a);M==4&&EU(this);this.C&&!this.QX&&(M==4?ShI(this.O,this):(this.C=!1,$E(this)))}else g.xF(this.D),F==400&&a.indexOf("Unknown SID")>
0?(this.Z=3,t8(12)):(this.Z=0,t8(13)),EU(this),NR(this)}}}catch(M){}finally{}};
g.H.cancel=function(){this.QX=!0;EU(this)};
g.H.NS=function(){this.I5=null;const k=Date.now();k-this.L6>=0?(this.Jl!=2&&(p4(3),t8(17)),EU(this),this.Z=2,NR(this)):mSL(this,this.L6-k)};
g.H.getLastError=function(){return this.Z};
g.H.ME=function(){return this.D};var KoI=class{constructor(k,F){this.D=k;this.map=F;this.context=null}};PwR.prototype.cancel=function(){this.O=MD(this);if(this.K)this.K.cancel(),this.K=null;else if(this.D&&this.D.size!==0){for(const k of this.D.values())k.cancel();this.D.clear()}};g.H=h7B.prototype;g.H.Kt=8;g.H.zG=1;g.H.connect=function(k,F,a,V){t8(0);this.iI=k;this.QX=F||{};a&&V!==void 0&&(this.QX.OSID=a,this.QX.OAID=V);this.uw=this.gB;this.cA=ZqQ(this,null,this.iI);al(this)};
g.H.disconnect=function(){xSI(this);if(this.zG==3){var k=this.TL++,F=this.cA.clone();g.NW(F,"SID",this.V);g.NW(F,"RID",k);g.NW(F,"TYPE","terminate");yf(this,F);k=new jA(this,this.V,k);k.Jl=2;k.W=C4(F.clone());F=!1;if(g.Tm.navigator&&g.Tm.navigator.sendBeacon)try{F=g.Tm.navigator.sendBeacon(k.W.toString(),"")}catch{}!F&&g.Tm.Image&&((new Image).src=k.W,F=!0);F||(k.D=KYR(k.O,null),k.D.send(k.W));k.D3=Date.now();$E(k)}vLQ(this)};
g.H.F2=function(){return this.zG==0};
g.H.getState=function(){return this.zG};
g.H.Eb=function(k){if(this.C)if(this.C=null,this.zG==1){if(!k){this.TL=Math.floor(Math.random()*1E5);k=this.TL++;const M=new jA(this,"",k);let C=this.X;this.vA&&(C?(C=g.z8(C),g.kg(C,this.vA)):C=this.vA);this.T!==null||this.L6||(M.cA=C,C=null);if(this.n6)a:{var F=0;for(var a=0;a<this.O.length;a++){b:{var V=this.O[a];if("__data__"in V.map&&(V=V.map.__data__,typeof V==="string")){V=V.length;break b}V=void 0}if(V===void 0)break;F+=V;if(F>4096){F=a;break a}if(F===4096||a===this.O.length-1){F=a+1;break a}}F=
this.Ra}else F=this.Ra;F=YhL(this,M,F);a=this.cA.clone();g.NW(a,"RID",k);g.NW(a,"CVER",22);this.VX&&g.NW(a,"X-HTTP-Session-Id",this.VX);yf(this,a);C&&(this.L6?F="headers="+g.K$(g.bz(C))+"&"+F:this.T&&g.wg(a,this.T,C));F8(this.K,M);this.jO&&g.NW(a,"TYPE","init");this.n6?(g.NW(a,"$req",F),g.NW(a,"SID","null"),M.vA=!0,W3(M,a,null)):W3(M,a,F);this.zG=2}}else this.zG==3&&(k?OqR(this,k):this.O.length==0||HqX(this.K)||OqR(this))};
g.H.Ob=function(){this.W=null;l_Z(this);if(this.uI&&!(this.PA||this.D==null||this.dB<=0)){var k=4*this.dB;this.OO=L4((0,g.ry)(this.QI,this),k)}};
g.H.QI=function(){this.OO&&(this.OO=null,this.uw=!1,this.PA=!0,t8(10),Gu(this),l_Z(this))};
g.H.a_=function(k){this.D==k&&this.uI&&!this.PA&&(UG(this),this.PA=!0,t8(11))};
g.H.L_=function(){this.I5!=null&&(this.I5=null,Gu(this),b4(this),t8(19))};
g.H.ZJ=function(k){k?t8(2):t8(1)};
g.H.isActive=function(){return!!this.Z&&this.Z.isActive(this)};
g.H=pD7.prototype;g.H.Ub=function(){};
g.H.Zi=function(){};
g.H.hq=function(){};
g.H.V5=function(){};
g.H.isActive=function(){return!0};
g.H.zz=function(){};g.Yp(nn,g.S1);nn.prototype.open=function(){this.D.Z=this.O;this.T&&(this.D.a5=!0);this.D.connect(this.C,this.K||void 0)};
nn.prototype.close=function(){this.D.disconnect()};
nn.prototype.send=function(k){var F=this.D;if(typeof k==="string"){var a={};a.__data__=k;k=a}else this.Z&&(a={},a.__data__=g.uN(k),k=a);F.O.push(new KoI(F.r$++,k));F.zG==3&&al(F)};
nn.prototype.p6=function(){this.D.Z=null;delete this.O;this.D.disconnect();delete this.D;nn.dD.p6.call(this)};
g.Yp(LYB,l4);g.Yp(R7I,v3);g.Yp(ol,pD7);ol.prototype.Ub=function(){this.D.dispatchEvent("m")};
ol.prototype.Zi=function(k){this.D.dispatchEvent(new LYB(k))};
ol.prototype.hq=function(k){this.D.dispatchEvent(new R7I(k))};
ol.prototype.V5=function(){this.D.dispatchEvent("n")};
nn.prototype.V=function(){return new uE(this,this.D)};
uE.prototype.K=function(){return wb(this.D.K)};
uE.prototype.O=function(){return ce8(this.D).map(k=>{var F=this.V;k=k.map;"__data__"in k?(k=k.__data__,F=F.Z?rYk(k):k):F=k;return F})};
uE.prototype.commit=function(k){this.D.Yw=k};var qD=new g.S1,jCX=class extends g.wF{constructor(){super("statevent",qD)}};g.H=Ti.prototype;g.H.Q0=null;g.H.Ni=!1;g.H.nE=null;g.H.AX=null;g.H.Z0=null;g.H.hp=null;g.H.pZ=null;g.H.Vi=null;g.H.Ju=null;g.H.cQ=null;g.H.Ux=0;g.H.Ay=null;g.H.Zp=null;g.H.dZ=null;g.H.hm=-1;g.H.Tc=!0;g.H.VZ=!1;g.H.Cu=0;g.H.po=null;var ELX={},Sj={};g.H=Ti.prototype;g.H.setTimeout=function(k){this.K=k};
g.H.f_=function(k){k=k.target;const F=this.po;F&&g.HC(k)==3?F.V():this.gp(k)};
g.H.gp=function(k){try{if(k==this.cQ)a:{const F=g.HC(this.cQ),a=this.cQ.K,V=this.cQ.getStatus();if(g.s2&&!g.Y3("420+")){if(F<4)break a}else if(F<3||F==3&&!g.rW(this.cQ))break a;this.VZ||F!=4||a==7||(a==8||V<=0?this.D.qv(3):this.D.qv(2));iqz(this);const M=this.cQ.getStatus();this.hm=M;const C=g.rW(this.cQ);if(this.Ni=M==200){F==4&&ej(this);if(this.VX){for(k=!0;!this.VZ&&this.Ux<C.length;){const X=NfS(this,C);if(X==Sj){F==4&&(this.dZ=4,g2(),k=!1);break}else if(X==ELX){this.dZ=4;g2();k=!1;break}else f_R(this,
X)}F==4&&C.length==0&&(this.dZ=1,g2(),k=!1);this.Ni=this.Ni&&k;k||(ej(this),Z4(this))}else f_R(this,C);this.Ni&&!this.VZ&&(F==4?this.D.GO(this):(this.Ni=!1,mk(this)))}else this.dZ=M==400&&C.indexOf("Unknown SID")>0?3:0,g2(),ej(this),Z4(this)}}catch(F){}finally{}};
g.H.cancel=function(){this.VZ=!0;ej(this)};
g.H.R2=function(){this.nE=null;const k=Date.now();k-this.AX>=0?(this.hp!=2&&this.D.qv(3),ej(this),this.dZ=2,g2(),Z4(this)):DSL(this,this.AX-k)};
g.H.getLastError=function(){return this.dZ};g.H=bqI.prototype;g.H.TO=null;g.H.RV=null;g.H.n0=!1;g.H.PG=null;g.H.Mk=null;g.H.XV=-1;g.H.gz=null;g.H.Fr=null;g.H.connect=function(k){this.PG=k;k=PX(this.D,null,this.PG);g2();Date.now();const F=this.D.X;F!=null?(this.gz=F[0],(this.Fr=F[1])?(this.Mk=1,wDL(this)):(this.Mk=2,Jo(this))):(sU(k,"MODE","init"),this.RV=new Ti(this),this.RV.Q0=this.TO,Il(this.RV,k,!1,null,!0),this.Mk=0)};
g.H.VA=function(k){if(k)this.Mk=2,Jo(this);else{g2();var F=this.D;F.PL=F.Ka.XV;OG(F,9)}k&&this.qv(2)};
g.H.iA=function(k){return this.D.iA(k)};
g.H.abort=function(){this.RV&&(this.RV.cancel(),this.RV=null);this.XV=-1};
g.H.F2=function(){return!1};
g.H.Q5=function(k,F){this.XV=k.hm;if(this.Mk==0)if(F){try{var a=this.K.parse(F)}catch(V){k=this.D;k.PL=this.XV;OG(k,2);return}this.gz=a[0];this.Fr=a[1]}else k=this.D,k.PL=this.XV,OG(k,2);else this.Mk==2&&(this.n0?(g2(),Date.now()):F=="11111"?(g2(),this.n0=!0,Date.now(),this.XV=200,this.RV.cancel(),g2(),HX(this.D,this,!0)):(g2(),Date.now(),this.n0=!1))};
g.H.GO=function(){this.XV=this.RV.hm;if(this.RV.Ni)this.Mk==0?this.Fr?(this.Mk=1,wDL(this)):(this.Mk=2,Jo(this)):this.Mk==2&&(this.n0?(g2(),HX(this.D,this,!0)):(g2(),HX(this.D,this,!1)));else{this.Mk==0?g2():this.Mk==2&&g2();var k=this.D;this.RV.getLastError();k.PL=this.XV;OG(k,2)}};
g.H.UF=function(){return this.D.UF()};
g.H.isActive=function(){return this.D.isActive()};
g.H.qv=function(k){this.D.qv(k)};g.H=Qf.prototype;g.H.Wr=null;g.H.g7=null;g.H.Es=null;g.H.X2=null;g.H.F5=null;g.H.Qi=null;g.H.Jq=null;g.H.bA=null;g.H.QZ=0;g.H.n_=0;g.H.RL=null;g.H.SI=null;g.H.jD=null;g.H.cq=null;g.H.Ka=null;g.H.YF=null;g.H.X7=-1;g.H.xU=-1;g.H.PL=-1;g.H.Y5=0;g.H.qt=0;g.H.xp=8;var qoB={OK:0,Jl5:2,iV:4,O4:5,iTw:6,STOP:7,Of:8,Vr:9,OZ:10,p5:11,DU:12};g.Yp(FlR,g.wF);g.Yp(aVz,g.wF);g.H=Qf.prototype;
g.H.connect=function(k,F,a,V,M){g2();this.F5=F;this.g7=a||{};V&&M!==void 0&&(this.g7.OSID=V,this.g7.OAID=M);this.W?(Kn((0,g.ry)(this.un,this,k),100),VUQ(this)):this.un(k)};
g.H.disconnect=function(){MUL(this);if(this.D==3){var k=this.QZ++;const F=this.Qi.clone();g.NW(F,"SID",this.V);g.NW(F,"RID",k);g.NW(F,"TYPE","terminate");BX(this,F);k=new Ti(this,this.V,k);k.hp=2;k.pZ=C4(F.clone());(new Image).src=k.pZ.toString();k.Z0=Date.now();mk(k)}nxL(this)};
g.H.un=function(k){this.Ka=new bqI(this);this.Ka.TO=this.Wr;this.Ka.K=this.Z;this.Ka.connect(k)};
g.H.F2=function(){return this.D==0};
g.H.getState=function(){return this.D};
g.H.kU=function(k){this.SI=null;XBm(this,k)};
g.H.cF=function(){this.jD=null;this.X2=new Ti(this,this.V,"rpc",this.T);this.X2.Q0=this.Wr;this.X2.Cu=0;var k=this.Jq.clone();g.NW(k,"RID","rpc");g.NW(k,"SID",this.V);g.NW(k,"CI",this.YF?"0":"1");g.NW(k,"AID",this.X7);BX(this,k);g.NW(k,"TYPE","xmlhttp");Il(this.X2,k,!0,this.bA,!1)};
g.H.Q5=function(k,F){if(this.D!=0&&(this.X2==k||this.Es==k))if(this.PL=k.hm,this.Es==k&&this.D==3)if(this.xp>7){try{var a=this.Z.parse(F)}catch(V){a=null}if(Array.isArray(a)&&a.length==3)if(k=a,k[0]==0)a:{if(!this.jD){if(this.X2)if(this.X2.Z0+3E3<this.Es.Z0)ho(this),this.X2.cancel(),this.X2=null;else break a;YO(this);g2()}}else this.xU=k[1],0<this.xU-this.X7&&k[2]<37500&&this.YF&&this.qt==0&&!this.cq&&(this.cq=Kn((0,g.ry)(this.qS,this),6E3));else OG(this,11)}else F!="y2f%"&&OG(this,11);else if(this.X2==
k&&ho(this),!g.yp(F))for(k=this.Z.parse(F),F=0;F<k.length;F++)a=k[F],this.X7=a[0],a=a[1],this.D==2?a[0]=="c"?(this.V=a[1],this.bA=a[2],a=a[3],a!=null?this.xp=a:this.xp=6,this.D=3,this.RL&&this.RL.mM(),this.Jq=PX(this,this.UF()?this.bA:null,this.F5),UaX(this)):a[0]=="stop"&&OG(this,7):this.D==3&&(a[0]=="stop"?OG(this,7):a[0]!="noop"&&this.RL&&this.RL.rp(a),this.qt=0)};
g.H.qS=function(){this.cq!=null&&(this.cq=null,this.X2.cancel(),this.X2=null,YO(this),g2())};
g.H.GO=function(k){if(this.X2==k){ho(this);this.X2=null;var F=2}else if(this.Es==k)this.Es=null,F=1;else return;this.PL=k.hm;if(this.D!=0)if(k.Ni)if(F==1){F=k.Ju?k.Ju.length:0;k=Date.now()-k.Z0;var a=qD;a.dispatchEvent(new FlR(a,F,k,this.Y5));r2(this);this.RL&&this.RL.aK(this,this.O);this.O.length=0}else UaX(this);else{a=k.getLastError();var V;if(!(V=a==3||a==7||a==0&&this.PL>0)){if(V=F==1)this.Es||this.SI||this.D==1||this.Y5>=2?V=!1:(this.SI=Kn((0,g.ry)(this.kU,this,k),yEB(this,this.Y5)),this.Y5++,
V=!0);V=!(V||F==2&&YO(this))}if(V)switch(a){case 1:OG(this,5);break;case 4:OG(this,10);break;case 3:OG(this,6);break;case 7:OG(this,12);break;default:OG(this,2)}}};
g.H.dN=function(k){if(!g.Um(arguments,this.D))throw Error("Unexpected channel state: "+this.D);};
g.H.hF=function(k){k?g2():(g2(),oxX(this,8))};
g.H.iA=function(k){if(k)throw Error("Can't create secondary domain capable XhrIo object.");k=new g.mv;k.T=!1;return k};
g.H.isActive=function(){return!!this.RL&&this.RL.isActive(this)};
g.H.qv=function(k){const F=qD;F.dispatchEvent(new aVz(F,k))};
g.H.UF=function(){return!1};
new sCX;g.H=uSz.prototype;g.H.mM=function(){};
g.H.rp=function(){};
g.H.aK=function(){};
g.H.oK=function(){};
g.H.MQ=function(){};
g.H.uF=function(){return{}};
g.H.isActive=function(){return!0};g.H=KlS.prototype;g.H.enqueue=function(k){this.K.push(k)};
g.H.isEmpty=function(){return this.D.length===0&&this.K.length===0};
g.H.clear=function(){this.D=[];this.K=[]};
g.H.contains=function(k){return g.Um(this.D,k)||g.Um(this.K,k)};
g.H.remove=function(k){{var F=this.D;const a=Array.prototype.lastIndexOf.call(F,k,F.length-1);a>=0?(g.om(F,a),F=!0):F=!1}return F||g.qL(this.K,k)};
g.H.Hr=function(){const k=[];for(var F=this.D.length-1;F>=0;--F)k.push(this.D[F]);F=this.K.length;for(let a=0;a<F;++a)k.push(this.K[a]);return k};var gum=class extends g.wF{constructor(k){super("channelMessage");this.message=k}},T1Z=class extends g.wF{constructor(k){super("channelError");this.error=k}};g.Yp(lE,g.GB);g.H=lE.prototype;g.H.Rz=function(){this.retryCount++;this.nJ=Math.min(3E5,this.nJ*2);this.K();this.zU&&this.start()};
g.H.t7=function(){return this.retryCount};
g.H.start=function(){const k=this.nJ+15E3*Math.random();this.D.Wl(k);this.zU=Date.now()+k};
g.H.stop=function(){this.D.stop();this.zU=0};
g.H.isActive=function(){return this.D.isActive()};
g.H.reset=function(){this.D.stop();this.retryCount=0;this.nJ=5E3};g.Yp(vX,uSz);g.H=vX.prototype;g.H.subscribe=function(k,F,a){return this.W.subscribe(k,F,a)};
g.H.unsubscribe=function(k,F,a){return this.W.unsubscribe(k,F,a)};
g.H.L$=function(k){return this.W.L$(k)};
g.H.publish=function(k,F){return this.W.publish.apply(this.W,arguments)};
g.H.dispose=function(){this.X||(this.X=!0,g.f0(this.W),this.disconnect(),g.f0(this.K),this.K=null,this.cA=()=>"",this.a5=()=>g.Yu({}))};
g.H.wU=function(){return this.X};
g.H.connect=async function(k,F,a){try{this.T&&await this.Z}finally{if(this.X||this.D&&this.D.getState()==2&&!this.O)return;this.VX="";this.O||this.K.stop();this.j=k||null;this.I5=F||0;const V=this.uw+"/test",M=this.uw+"/bind";k=new Qf(a?a.firstTestResults:null,a?a.secondTestResults:null,this.vA);const C=this.D;C&&(C.RL=null);k.RL=this;this.D=k;if(this.T)return this.Z=to(this).then(()=>daz(this,V,M,C,a)),this.Z.then(()=>{this.Z=g.Yu()});
daz(this,V,M,C,a)}};
g.H.disconnect=function(k){try{this.T&&(this.Z.cancel(),this.Z=g.Yu())}finally{this.OO=k||0,this.K&&this.K.stop(),cX(this),this.D&&(this.D.getState()==3&&XBm(this.D),this.D.disconnect()),this.OO=0}};
g.H.sendMessage=async function(k,F){try{this.T&&await this.Z}finally{if(this.X)return;const a={_sc:k};F&&g.kg(a,F);if(this.K.isActive()||(this.D?this.D.getState():0)==2)this.V.push(a);else if(this.ER())try{this.T&&!Him(this,k)&&await to(this)}finally{this.ER()&&(Him(this,k)||pn(this),cX(this),xO(this.D,a))}}};
g.H.mM=function(){this.C&&this.K&&this.K.t7()>0&&(this.C.lu3(this.K.t7(),this.O,!0),this.C.DTw());this.C&&this.C.sjN();this.O?(this.K.stop(),g.f0(this.K),this.K=new lE(this.E$,this),this.O=!1):this.K.reset();this.j=null;this.I5=0;if(this.V.length)if(this.T)JE8(this);else{var k=this.V;this.V=[];var F=k.length;pn(this);for(let a=0;a<F;++a)xO(this.D,k[a]);Ln(this);Ln(this)}else Ln(this)};
g.H.oK=function(k){var F=k==2&&this.D.PL==401;k==4||F||(this.O&&!this.K.isActive()&&(g.f0(this.K),this.K=new lE(this.E$,this),this.O=!1),this.K.start());this.publish("handlerError",k,F);F=Object.keys(qoB).find(a=>qoB[a]===k);
this.Ml.D("BROWSER_CHANNEL",F??"UNKNOWN")};
g.H.MQ=function(k,F){if(!this.K.isActive())this.publish("handlerClosed");else if(F){const a=F.length;for(let V=0;V<a;++V){const M=F[V].map;M&&this.V.push(M)}}this.TL.D("BROWSER_CHANNEL");k&&g.Vi(this.iI.K,"/client_streamz/youtube/living_room/mdx/browser_channel/pending_maps",k.length);F&&g.Vi(this.gB.K,"/client_streamz/youtube/living_room/mdx/browser_channel/undelivered_maps",F.length)};
g.H.aK=function(k,F){F!=null&&k!=null&&this.n6.D()};
g.H.uF=function(){const k={v:2};this.VX&&(k.gsessionid=this.VX);this.I5!=0&&(k.ui=""+this.I5);this.OO!=0&&(k.ui=""+this.OO);this.j&&g.kg(k,this.j);return k};
g.H.rp=function(k){k[0]=="S"?this.VX=k[1]:k[0]=="gracefulReconnect"?(this.K.start(),this.D.disconnect()):this.publish("handlerMessage",new qy7(k[0],k[1]));this.PA.D("BROWSER_CHANNEL")};
g.H.ER=function(){return!!this.D&&this.D.getState()==3};
g.H.Qs=function(k){(this.D3.loungeIdToken=k)||this.K.stop();if(this.Dl&&this.D){const F=this.D.Wr||{};k?F["X-YouTube-LoungeId-Token"]=k:delete F["X-YouTube-LoungeId-Token"];this.D.Wr=F}};
g.H.getDeviceId=function(){return this.D3.id};
g.H.Ge=function(){return this.K.isActive()?this.K.zU-Date.now():NaN};
g.H.IW=function(){var k=this.K;g.RK(k.D);k.start()};
g.H.E$=function(){this.K.isActive();CKI(this.D)==0&&this.connect(this.j,this.I5)};Rl.prototype.sendRequest=function(k,F,a,V,M,C,X){k={format:C?"RAW":"JSON",method:k,context:this,timeout:5E3,withCredentials:!!X,onSuccess:g.hV(this.V,V,!C),onError:g.hV(this.O,M),onTimeout:g.hV(this.Z,M)};a&&(k.postParams=a,k.headers={"Content-Type":"application/x-www-form-urlencoded"});return g.vM(F,k)};
Rl.prototype.V=function(k,F,a,V){F?k(V):k({text:a.responseText})};
Rl.prototype.O=function(k,F){k(Error("Request error: "+F.status))};
Rl.prototype.Z=function(k){k(Error("request timed out"))};var BI7=class extends g.S1{constructor(k,F){super();this.handler=k();this.handler.subscribe("handlerOpened",this.D,this);this.handler.subscribe("handlerClosed",this.onClosed,this);this.handler.subscribe("handlerError",(a,V)=>{this.onError(V)});
this.handler.subscribe("handlerMessage",this.onMessage,this);this.K=F}connect(k,F,a){this.handler.connect(k,F,a)}disconnect(k){this.handler.disconnect(k)}IW(){this.handler.IW()}getDeviceId(){return this.handler.getDeviceId()}Ge(){return this.handler.Ge()}ER(){return this.handler.ER()}D(){this.dispatchEvent("channelOpened");var k=this.handler,F=this.K;g.z5("yt-remote-session-browser-channel",{firstTestResults:[""],secondTestResults:!k.D.YF,sessionId:k.D.V,arrayId:k.D.X7});g.z5("yt-remote-session-screen-id",
F);k=Zg();F=db();g.Um(k,F)||k.push(F);Wck(k);P3()}onClosed(){this.dispatchEvent("channelClosed")}onMessage(k){this.dispatchEvent(new gum(k))}onError(k){this.dispatchEvent(new T1Z(k?1:0))}sendMessage(k,F){this.handler.sendMessage(k,F)}Qs(k){this.handler.Qs(k)}dispose(){this.handler.dispose()}};var AEL=class{constructor(k,F,a=()=>""){new tMX;
var V=new g.mT;this.pathPrefix=k;this.D=F;this.D3=a;this.Z=V;this.W=null;this.X=this.T=0;this.channel=null;this.C=0;this.O=new lE(()=>{this.O.isActive();this.channel?.V().K()===0&&this.connect(this.W,this.T)});
this.V={};this.K={};this.I5=!1;this.logger=null;this.j=[];this.mf=void 0;this.cA=new gxz;this.OO=new TIX;this.QX=new maI;this.VX=new Syk}connect(k={},F=0){this.C!==2&&(this.O.stop(),this.W=k,this.T=F,WX(this),(k=g.v("ID_TOKEN"))?this.V["x-youtube-identity-token"]=k:delete this.V["x-youtube-identity-token"],this.D&&(this.K.device=this.D.device,this.K.name=this.D.name,this.K.app=this.D.app,this.K.id=this.D.id,this.D.df&&(this.K.mdxVersion=`${this.D.df}`),this.D.theme&&(this.K.theme=this.D.theme),this.D.capabilities&&
(this.K.capabilities=this.D.capabilities),this.D.AE&&(this.K.cst=this.D.AE),this.D.authuser&&(this.K.authuser=this.D.authuser),this.D.pageId&&(this.K.pageId=this.D.pageId)),this.T!==0?this.K.ui=`${this.T}`:delete this.K.ui,Object.assign(this.K,this.W),this.channel=new nn(this.pathPrefix,{IR:"gsessionid",jK:this.V,vW:this.K}),this.channel.open(),this.C=2,hfm(this))}disconnect(k=0){this.X=k;this.O.stop();WX(this);this.channel&&(this.X!==0?this.K.ui=`${this.X}`:delete this.K.ui,this.channel.close());
this.X=0}Ge(){return this.O.isActive()?this.O.zU-Date.now():NaN}IW(){var k=this.O;g.RK(k.D);k.start()}sendMessage(k,F){this.channel&&(WX(this),this.channel.send({_sc:k,...F}))}Qs(k){k||this.O.stop();k?this.V["X-YouTube-LoungeId-Token"]=k:delete this.V["X-YouTube-LoungeId-Token"]}getDeviceId(){return this.D?this.D.id:""}publish(k,...F){return this.Z.publish(k,...F)}subscribe(k,F,a){return this.Z.subscribe(k,F,a)}unsubscribe(k,F,a){return this.Z.unsubscribe(k,F,a)}L$(k){return this.Z.L$(k)}dispose(){this.I5||
(this.I5=!0,g.f0(this.Z),this.disconnect(),g.f0(this.O),this.D3=()=>"")}wU(){return this.I5}};var xaS=class extends g.S1{constructor(k){super();this.D=k();this.D.subscribe("webChannelOpened",this.K,this);this.D.subscribe("webChannelClosed",this.onClosed,this);this.D.subscribe("webChannelError",this.onError,this);this.D.subscribe("webChannelMessage",this.onMessage,this)}connect(k,F){this.D.connect(k,F)}disconnect(k){this.D.disconnect(k)}IW(){this.D.IW()}getDeviceId(){return this.D.getDeviceId()}Ge(){return this.D.Ge()}ER(){return this.D.C===3}K(){this.dispatchEvent("channelOpened")}onClosed(){this.dispatchEvent("channelClosed")}onMessage(k){this.dispatchEvent(new gum(k))}onError(){this.dispatchEvent(new T1Z(this.D.mf===
401?1:0))}sendMessage(k,F){this.D.sendMessage(k,F)}Qs(k){this.D.Qs(k)}dispose(){this.D.dispose()}};var LlB=Date.now(),$O=null,iE=Array(50),D4=-1,fn=!1;g.Yp(zi,g.w4);zi.prototype.lR=function(){return this.screens};
zi.prototype.contains=function(k){return!!mt(this.screens,k)};
zi.prototype.get=function(k){return k?SA(this.screens,k):null};
zi.prototype.info=function(k){EG(this.C,k)};var mwk=class extends g.w4{constructor(k,F,a,V,M){super();this.V=k;this.j=F;this.W=a;this.I5=V;this.X=M;this.K=0;this.D=null;this.Rj=NaN}start(){!this.D&&isNaN(this.Rj)&&this.O()}stop(){this.D&&(this.D.abort(),this.D=null);isNaN(this.Rj)||(g.QW(this.Rj),this.Rj=NaN)}p6(){this.stop();super.p6()}O(){this.Rj=NaN;this.D=g.vM(jj(this.V,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:this.j},timeout:5E3,onSuccess:(0,g.ry)(this.C,this),onError:(0,g.ry)(this.Z,this),onTimeout:(0,g.ry)(this.T,
this)})}C(k,F){this.D=null;k=F.screen||{};k.dialId=this.W;k.name=this.I5;F=-1;this.X&&k.shortLivedLoungeToken&&k.shortLivedLoungeToken.value&&k.shortLivedLoungeToken.refreshIntervalMs&&(k.screenIdType="shortLived",k.loungeToken=k.shortLivedLoungeToken.value,F=k.shortLivedLoungeToken.refreshIntervalMs);this.publish("pairingComplete",new K4(k),F)}Z(k){this.D=null;k.status&&k.status==404?this.K>=Ibz.length?this.publish("pairingFailed",Error("DIAL polling timed out")):(k=Ibz[this.K],this.Rj=g.HM((0,g.ry)(this.O,
this),k),this.K++):this.publish("pairingFailed",Error("Server error "+k.status))}T(){this.D=null;this.publish("pairingFailed",Error("Server not responding"))}},Ibz=[2E3,2E3,1E3,1E3,1E3,2E3,2E3,5E3,5E3,1E4];g.Yp(bE,zi);g.H=bE.prototype;g.H.start=function(){Gi(this)&&this.publish("screenChange");!g.G5("yt-remote-lounge-token-expiration")&&$ak(this);g.QW(this.D);this.D=g.HM((0,g.ry)(this.start,this),1E4)};
g.H.add=function(k,F){Gi(this);Rfm(this,k);w2(this,!1);this.publish("screenChange");F(k);k.token||$ak(this)};
g.H.remove=function(k,F){let a=Gi(this);Wlz(this,k)&&(w2(this,!1),a=!0);F(k);a&&this.publish("screenChange")};
g.H.nh=function(k,F,a,V){let M=Gi(this);const C=this.get(k.id);C?(C.name!=F&&(C.name=F,w2(this,!1),M=!0),a(k)):V(Error("no such local screen."));M&&this.publish("screenChange")};
g.H.p6=function(){g.QW(this.D);bE.dD.p6.call(this)};
g.H.Yb=function(k){Gi(this);let F=this.screens.length;k=k&&k.screens||[];const a=k.length;for(let V=0;V<a;++V){const M=k[V],C=this.get(M.screenId);C&&(C.token=M.loungeToken,--F)}w2(this,!F);F&&EG(this.C,"Missed "+F+" lounge tokens.")};
g.H.qJ=function(k){EG(this.C,"Requesting lounge tokens failed: "+k)};var wBR=class extends g.w4{constructor(k,F){super();this.C=F;F=(F=g.G5("yt-remote-online-screen-ids")||"")?F.split(","):[];const a={},V=this.C(),M=V.length;for(let C=0;C<M;++C){const X=V[C].id;a[X]=g.Um(F,X)}this.D=a;this.Z=k;this.O=this.V=NaN;this.K=null;kK("Initialized with "+g.uN(this.D))}start(){const k=parseInt(g.G5("yt-remote-fast-check-period")||"0",10);(this.V=g.xp()-144E5<k?0:k)?FZ(this):(this.V=g.xp()+3E5,g.z5("yt-remote-fast-check-period",this.V),this.T())}isEmpty(){return g.NL(this.D)}update(){kK("Updating availability on schedule.");
const k=this.C(),F=g.YB(this.D,function(a,V){return a&&!!SA(k,V)},this);
an(this,F)}p6(){g.QW(this.O);this.O=NaN;this.K&&(this.K.abort(),this.K=null);super.p6()}T(){g.QW(this.O);this.O=NaN;this.K&&this.K.abort();const k=NI7(this);if(XD(k)){var F=jj(this.Z,"/pairing/get_screen_availability"),a={lounge_token:g.Rm(k).join(",")};this.K=this.Z.sendRequest("POST",F,a,(0,g.ry)(this.X,this,k),(0,g.ry)(this.W,this))}else an(this,{}),FZ(this)}X(k,F){this.K=null;var a=g.Rm(NI7(this));if(g.hS(a,g.Rm(k))){F=F.screens||[];a={};var V=F.length;for(let M=0;M<V;++M)a[k[F[M].loungeToken]]=
F[M].status=="online";an(this,a);FZ(this)}else this.Km("Changing Screen set during request."),this.T()}W(k){this.Km("Screen availability failed: "+k);this.K=null;FZ(this)}Km(k){EG("OnlineScreenService",k)}};g.Yp(MX,zi);g.H=MX.prototype;g.H.start=function(){this.K.start();this.D.start();this.screens.length&&(this.publish("screenChange"),this.D.isEmpty()||this.publish("onlineScreenChange"))};
g.H.add=function(k,F,a){this.K.add(k,F,a)};
g.H.remove=function(k,F,a){this.K.remove(k,F,a);this.D.update()};
g.H.nh=function(k,F,a,V){this.K.contains(k)?this.K.nh(k,F,a,V):(k="Updating name of unknown screen: "+k.name,EG(this.C,k),V(Error(k)))};
g.H.lR=function(k){return k?this.screens:g.T8(this.screens,g.Gm(this.O,function(F){return!this.contains(F)},this))};
g.H.ek=function(){return g.Gm(this.lR(!0),function(k){return!!this.D.D[k.id]},this)};
g.H.wp=function(k,F,a,V,M,C){this.info("getDialScreenByPairingCode "+k+" / "+F);const X=new mwk(this.V,k,F,a,V);X.subscribe("pairingComplete",(U,y)=>{g.f0(X);M(Cx(this,U),y)});
X.subscribe("pairingFailed",U=>{g.f0(X);C(U)});
X.start();return(0,g.ry)(X.stop,X)};
g.H.YR=function(k,F,a,V){g.vM(jj(this.V,"/pairing/get_screen"),{method:"POST",postParams:{pairing_code:k},timeout:5E3,onSuccess:(0,g.ry)(function(M,C){M=new K4(C.screen||{});if(!M.name||zfS(this,M.name)){a:{C=M.name;let X=2,U=F(C,X);for(;zfS(this,U);){X++;if(X>20)break a;U=F(C,X)}C=U}M.name=C}a(Cx(this,M))},this),
onError:(0,g.ry)(function(M){V(Error("pairing request failed: "+M.status))},this),
onTimeout:(0,g.ry)(function(){V(Error("pairing request timed out."))},this)})};
g.H.p6=function(){g.f0(this.K);g.f0(this.D);MX.dD.p6.call(this)};
g.H.yv=function(){biI(this);this.publish("screenChange");this.D.update()};
MX.prototype.dispose=MX.prototype.dispose;g.Yp(XZ,g.w4);g.H=XZ.prototype;g.H.F3=function(k){this.wU()||(k&&(y2(this,""+k),this.publish("sessionFailed")),this.D=null,this.publish("sessionScreen",null))};
g.H.info=function(k){EG(this.VX,k)};
g.H.Ct=function(){return null};
g.H.v$=function(k){const F=this.K;k?(F.displayStatus=new chrome.cast.ReceiverDisplayStatus(k,[]),F.displayStatus.showStop=!0):F.displayStatus=null;chrome.cast.setReceiverDisplayStatus(F,(0,g.ry)(function(){this.info("Updated receiver status for "+F.friendlyName+": "+k)},this),(0,g.ry)(function(){y2(this,"Failed to update receiver status for: "+F.friendlyName)},this))};
g.H.p6=function(){this.v$("");XZ.dD.p6.call(this)};var HO=class extends XZ{constructor(k,F,a){super(k,F,"CastSession");this.config_=a;this.O=null;this.j=(0,g.ry)(this.cA,this);this.D3=(0,g.ry)(this.Jl,this);this.I5=g.HM(()=>{VoQ(this,null)},12E4);
this.W=this.Z=this.T=this.X=0}OO(k){if(this.O){if(this.O==k)return;y2(this,"Overriding cast session with new session object");Moz(this);this.O.removeUpdateListener(this.j);this.O.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.D3)}this.O=k;this.O.addUpdateListener(this.j);this.O.addMessageListener("urn:x-cast:com.google.youtube.mdx",this.D3);C5k(this,"getMdxSessionStatus")}C(k){this.info("launchWithParams no-op for Cast: "+g.uN(k))}stop(){this.O?this.O.stop((0,g.ry)(function(){this.F3()},
this),(0,g.ry)(function(){this.F3(Error("Failed to stop receiver app."))},this)):this.F3(Error("Stopping cast device without session."))}v$(){}p6(){this.info("disposeInternal");
Moz(this);this.O&&(this.O.removeUpdateListener(this.j),this.O.removeMessageListener("urn:x-cast:com.google.youtube.mdx",this.D3));this.O=null;super.p6()}Jl(k,F){if(!this.wU())if(F)if(F=UU(F),g.H1(F))switch(k=""+F.type,F=F.data||{},this.info("onYoutubeMessage_: "+k+" "+g.uN(F)),k){case "mdxSessionStatus":VoQ(this,F);break;case "loungeToken":srB(this,F);break;default:y2(this,"Unknown youtube message: "+k)}else y2(this,"Unable to parse message.");else y2(this,"No data in message.")}QX(k,F,a,V){g.QW(this.X);
this.X=0;fVz(this.V,this.K.label,k,this.K.friendlyName,(0,g.ry)(function(M){M?F(M):V>=0?(y2(this,"Screen "+k+" appears to be offline. "+V+" retries left."),this.X=g.HM((0,g.ry)(this.QX,this,k,F,a,V-1),300)):a(Error("Unable to fetch screen."))},this),a)}Ct(){return this.O}cA(k){this.wU()||k||(y2(this,"Cast session died."),this.F3())}};var SoQ=class extends XZ{constructor(k,F,a,V){super(k,F,"DialSession");this.config_=V;this.O=this.X=null;this.D3="";this.Jl=a;this.cA=null;this.j=()=>{};
this.I5=NaN;this.QX=(0,g.ry)(this.a5,this);this.Z=()=>{};
this.W=this.T=0}OO(k){this.O=k;this.O.addUpdateListener(this.QX)}C(k){this.cA=k;this.j()}stop(){ntB(this);this.O?this.O.stop((0,g.ry)(this.F3,this,null),(0,g.ry)(this.F3,this,"Failed to stop DIAL device.")):this.F3()}p6(){ntB(this);this.O&&this.O.removeUpdateListener(this.QX);this.O=null;super.p6()}a5(k){this.wU()||k||(y2(this,"DIAL session died."),this.Z(),this.Z=()=>{},this.F3())}};var ZFz=class extends XZ{constructor(k,F){super(k,F,"ManualSession");this.O=g.HM((0,g.ry)(this.C,this,null),150)}stop(){this.F3()}OO(){}C(){g.QW(this.O);this.O=NaN;const k=SA(this.V.lR(),this.K.label);k?Ul(this,k):this.F3(Error("No such screen"))}p6(){g.QW(this.O);this.O=NaN;super.p6()}};var hF=class extends g.w4{constructor(k,F){super();this.config_=F;this.K=k;this.OO=F.appId||"233637DE";this.V=F.theme||"cl";this.VX=F.disableCastApi||!1;this.T=F.forceMirroring||!1;this.D=null;this.W=!1;this.O=[];this.C=(0,g.ry)(this.cA,this)}init(k,F){chrome.cast.timeout.requestSession=3E4;var a=new chrome.cast.SessionRequest(this.OO,[chrome.cast.Capability.AUDIO_OUT]);g.x9("desktop_enable_cast_connect")&&(a.androidReceiverCompatible=!0);this.VX||(a.dialRequest=new chrome.cast.DialRequest("YouTube"));
const V=chrome.cast.AutoJoinPolicy.TAB_AND_ORIGIN_SCOPED;k=k||this.T?chrome.cast.DefaultActionPolicy.CAST_THIS_TAB:chrome.cast.DefaultActionPolicy.CREATE_SESSION;const M=(0,g.ry)(this.Jl,this);a=new chrome.cast.ApiConfig(a,(0,g.ry)(this.X,this),M,V,k);a.customDialLaunchCallback=(0,g.ry)(this.QX,this);chrome.cast.initialize(a,(0,g.ry)(function(){this.wU()||(chrome.cast.addReceiverActionListener(this.C),cEk(),this.K.subscribe("onlineScreenChange",(0,g.ry)(this.Z,this)),this.O=ItL(this),chrome.cast.setCustomReceivers(this.O,
()=>{},(0,g.ry)(function(C){this.Km("Failed to set initial custom receivers: "+g.uN(C))},this)),this.publish("yt-remote-cast2-availability-change",gC(this)),F(!0))},this),(0,g.ry)(function(C){this.Km("Failed to initialize API: "+g.uN(C));
F(!1)},this))}uw(k,F){Te("Setting connected screen ID: "+k+" -> "+F);
if(this.D){var a=this.D.D;if(!k||a&&a.id!=k)Te("Unsetting old screen status: "+this.D.K.friendlyName),In(this,null)}if(k&&F){if(!this.D){k=SA(this.K.lR(),k);if(!k){Te("setConnectedScreenStatus: Unknown screen.");return}if(k.idType=="shortLived"){Te("setConnectedScreenStatus: Screen with id type to be short lived.");return}a=TFk(this,k);a||(Te("setConnectedScreenStatus: Connected receiver not custom..."),a=new chrome.cast.Receiver(k.uuid?k.uuid:k.id,k.name),a.receiverType=chrome.cast.ReceiverType.CUSTOM,
this.O.push(a),chrome.cast.setCustomReceivers(this.O,()=>{},(0,g.ry)(function(V){this.Km("Failed to set initial custom receivers: "+g.uN(V))},this)));
Te("setConnectedScreenStatus: new active receiver: "+a.friendlyName);In(this,new ZFz(this.K,a),!0)}this.D.v$(F)}else Te("setConnectedScreenStatus: no screen.")}TL(k){this.wU()?this.Km("Setting connection data on disposed cast v2"):this.D?this.D.C(k):this.Km("Setting connection data without a session")}D3(){this.wU()?this.Km("Stopping session on disposed cast v2"):this.D?(this.D.stop(),In(this,null)):Te("Stopping non-existing session")}requestSession(){chrome.cast.requestSession((0,g.ry)(this.X,this),
(0,g.ry)(this.a5,this))}p6(){this.K.unsubscribe("onlineScreenChange",(0,g.ry)(this.Z,this));window.chrome&&chrome.cast&&chrome.cast.removeReceiverActionListener(this.C);var k=OiR;const F=g.mw("yt.mdx.remote.debug.handlers_");g.qL(F||[],k);g.f0(this.D);super.p6()}Km(k){EG("Controller",k)}I5(k,F){this.D==k&&(F||In(this,null),this.publish("yt-remote-cast2-session-change",F))}cA(k,F){if(!this.wU())if(k)switch(k.friendlyName=chrome.cast.unescape(k.friendlyName),Te("onReceiverAction_ "+k.label+" / "+k.friendlyName+
"-- "+F),F){case chrome.cast.ReceiverAction.CAST:if(this.D)if(this.D.K.label!=k.label)Te("onReceiverAction_: Stopping active receiver: "+this.D.K.friendlyName),this.D.stop();else{Te("onReceiverAction_: Casting to active receiver.");this.D.D&&this.publish("yt-remote-cast2-session-change",this.D.D);break}switch(k.receiverType){case chrome.cast.ReceiverType.CUSTOM:In(this,new ZFz(this.K,k));break;case chrome.cast.ReceiverType.DIAL:In(this,new SoQ(this.K,k,this.V,this.config_));break;case chrome.cast.ReceiverType.CAST:In(this,
new HO(this.K,k,this.config_));break;default:this.Km("Unknown receiver type: "+k.receiverType)}break;case chrome.cast.ReceiverAction.STOP:this.D&&this.D.K.label==k.label?this.D.stop():this.Km("Stopping receiver w/o session: "+k.friendlyName)}else this.Km("onReceiverAction_ called without receiver.")}QX(k){if(this.wU())return Promise.reject(Error("disposed"));var F=k.receiver;F.receiverType!=chrome.cast.ReceiverType.DIAL&&(this.Km("Not DIAL receiver: "+F.friendlyName),F.receiverType=chrome.cast.ReceiverType.DIAL);
var a=this.D?this.D.K:null;if(!a||a.label!=F.label)return this.Km("Receiving DIAL launch request for non-clicked DIAL receiver: "+F.friendlyName),Promise.reject(Error("illegal DIAL launch"));if(a&&a.label==F.label&&a.receiverType!=chrome.cast.ReceiverType.DIAL){if(this.D.D)return Te("Reselecting dial screen."),this.publish("yt-remote-cast2-session-change",this.D.D),Promise.resolve(new chrome.cast.DialLaunchResponse(!1));this.Km('Changing CAST intent from "'+a.receiverType+'" to "dial" for '+F.friendlyName);
In(this,new SoQ(this.K,F,this.V,this.config_))}F=this.D;F.X=k;F.X.appState==chrome.cast.DialAppState.RUNNING?(k=F.X.extraData||{},a=k.screenId||null,Kx(F)&&k.loungeToken?k.loungeTokenRefreshIntervalMs?k=gt7(F,{name:F.K.friendlyName,screenId:k.screenId,loungeToken:k.loungeToken,dialId:F.X.receiver.label,screenIdType:"shortLived"},k.loungeTokenRefreshIntervalMs):(g.k9(Error(`No loungeTokenRefreshIntervalMs presents in additionalData: ${JSON.stringify(k)}.`)),k=KdB(F,a)):k=KdB(F,a)):k=uu(F);return k}X(k){if(!this.wU()&&
!this.T){Te("New cast session ID: "+k.sessionId);var F=k.receiver;if(F.receiverType!=chrome.cast.ReceiverType.CUSTOM){if(!this.D)if(F.receiverType==chrome.cast.ReceiverType.CAST)Te("Got resumed cast session before resumed mdx connection."),F.friendlyName=chrome.cast.unescape(F.friendlyName),In(this,new HO(this.K,F,this.config_),!0);else{this.Km("Got non-cast session without previous mdx receiver event, or mdx resume.");return}var a=this.D.K,V=SA(this.K.lR(),a.label);V&&qR(V,F.label)&&a.receiverType!=
chrome.cast.ReceiverType.CAST&&F.receiverType==chrome.cast.ReceiverType.CAST&&(Te("onSessionEstablished_: manual to cast session change "+F.friendlyName),g.f0(this.D),this.D=new HO(this.K,F,this.config_),this.D.subscribe("sessionScreen",(0,g.ry)(this.I5,this,this.D)),this.D.subscribe("sessionFailed",()=>mAQ(this,this.D)),this.D.C(null));
this.D.OO(k)}}}j(){return this.D?this.D.Ct():null}a5(k){this.wU()||(this.Km("Failed to estabilish a session: "+g.uN(k)),k.code!=chrome.cast.ErrorCode.CANCEL&&In(this,null),this.publish("yt-remote-cast2-session-failed"))}Jl(k){Te("Receiver availability updated: "+k);if(!this.wU()){var F=gC(this);this.W=k==chrome.cast.ReceiverAvailability.AVAILABLE;gC(this)!=F&&this.publish("yt-remote-cast2-availability-change",gC(this))}}Z(){this.wU()||(this.O=ItL(this),Te("Updating custom receivers: "+g.uN(this.O)),
chrome.cast.setCustomReceivers(this.O,()=>{},(0,g.ry)(function(){this.Km("Failed to set custom receivers.")},this)),this.publish("yt-remote-cast2-availability-change",gC(this)))}};
hF.prototype.setLaunchParams=hF.prototype.TL;hF.prototype.setConnectedScreenStatus=hF.prototype.uw;hF.prototype.stopSession=hF.prototype.D3;hF.prototype.getCastSession=hF.prototype.j;hF.prototype.requestSession=hF.prototype.requestSession;hF.prototype.init=hF.prototype.init;hF.prototype.dispose=hF.prototype.dispose;var Pv=[],P5R=(0,g.Ez)`https://www.gstatic.com/cv/js/sender/v1/cast_sender.js`;g.H=xK.prototype;
g.H.reset=function(k){this.listId="";this.index=-1;this.videoId="";AF(this);this.volume=-1;this.muted=!1;k&&(this.index=k.index,this.listId=k.listId,this.videoId=k.videoId,this.playerState=k.playerState,this.volume=k.volume,this.muted=k.muted,this.audioTrackId=k.audioTrackId,this.trackData=k.trackData,this.hasPrevious=k.hasPrevious,this.hasNext=k.hasNext,this.C=k.playerTime,this.Z=k.playerTimeAt,this.K=k.seekableStart,this.T=k.seekableEnd,this.O=k.duration,this.loadedTime=k.loadedTime,this.D=k.liveIngestionTime,
this.V=!isNaN(this.D))};
g.H.isPlaying=function(){return this.playerState==1};
g.H.isBuffering=function(){return this.playerState==3};
g.H.wE=function(k){this.O=isNaN(k)?0:k};
g.H.getDuration=function(){return this.V?this.O+Bv(this):this.O};
g.H.clone=function(){return new xK(vv(this))};var euB=class extends g.w4{constructor(){var k=X7();super();this.O=0;this.V=k;this.T=[];this.Z=new KlS;this.K=this.D=null;this.j=(0,g.ry)(this.cA,this);this.X=(0,g.ry)(this.C,this);this.I5=(0,g.ry)(this.QX,this);this.VX=(0,g.ry)(this.Jl,this);let F=0;k?(F=k.getProxyState(),F!=3&&(k.subscribe("proxyStateChange",this.OO,this),BFz(this))):F=3;F!=0&&g.HM(()=>{this.OO(F)},0);
(k=hP7())&&cv(this,k);this.subscribe("yt-remote-cast2-session-change",this.VX)}getState(){return this.O}Ge(){return this.V.getReconnectTimeout()}IW(){this.V.reconnect()}play(){tF(this)?(this.D?this.D.play(null,g.rs,Rn(this,"play")):Lx(this,"play"),Wv(this,1,Ol(px(this))),this.publish("remotePlayerChange")):$K(this,this.play)}pause(){tF(this)?(this.D?this.D.pause(null,g.rs,Rn(this,"pause")):Lx(this,"pause"),Wv(this,2,Ol(px(this))),this.publish("remotePlayerChange")):$K(this,this.pause)}seekTo(k){if(tF(this)){if(this.D){const F=
px(this),a=new chrome.cast.media.SeekRequest;a.currentTime=k;F.isPlaying()||F.isBuffering()?a.resumeState=chrome.cast.media.ResumeState.PLAYBACK_START:a.resumeState=chrome.cast.media.ResumeState.PLAYBACK_PAUSE;this.D.seek(a,g.rs,Rn(this,"seekTo",{newTime:k}))}else Lx(this,"seekTo",{newTime:k});Wv(this,3,k);this.publish("remotePlayerChange")}else $K(this,g.hV(this.seekTo,k))}stop(){if(tF(this)){this.D?this.D.stop(null,g.rs,Rn(this,"stopVideo")):Lx(this,"stopVideo");var k=px(this);k.index=-1;k.videoId=
"";AF(k);jn(this,k);this.publish("remotePlayerChange")}else $K(this,this.stop)}setVolume(k,F){if(tF(this)){var a=px(this);if(this.K){if(a.volume!=k){const V=Math.round(k)/100;this.K.setReceiverVolumeLevel(V,(0,g.ry)(function(){ND("set receiver volume: "+V)},this),(0,g.ry)(function(){this.Km("failed to set receiver volume.")},this))}a.muted!=F&&this.K.setReceiverMuted(F,(0,g.ry)(function(){ND("set receiver muted: "+F)},this),(0,g.ry)(function(){this.Km("failed to set receiver muted.")},this))}else{const V=
{volume:k,
muted:F};a.volume!=-1&&(V.delta=k-a.volume);Lx(this,"setVolume",V)}a.muted=F;a.volume=k;jn(this,a)}else $K(this,g.hV(this.setVolume,k,F))}W(k,F){if(tF(this)){var a=px(this);k={videoId:k};F&&(a.trackData={trackName:F.name,languageCode:F.languageCode,sourceLanguageCode:F.translationLanguage?F.translationLanguage.languageCode:"",languageName:F.languageName,kind:F.kind},k.style=g.uN(F.style),g.kg(k,a.trackData));Lx(this,"setSubtitlesTrack",k);jn(this,a)}else $K(this,g.hV(this.W,k,F))}setAudioTrack(k,
F){tF(this)?(F=F.getLanguageInfo().getId(),Lx(this,"setAudioTrack",{videoId:k,audioTrackId:F}),k=px(this),k.audioTrackId=F,jn(this,k)):$K(this,g.hV(this.setAudioTrack,k,F))}playVideo(k,F,a,V=null,M=null,C=null,X=null){const U=px(this),y={videoId:k};a!==void 0&&(y.currentIndex=a);lu(U,k,a||0);F!==void 0&&(YK(U,F),y.currentTime=F);V&&(y.listId=V);M&&(y.playerParams=M);C&&(y.clickTrackingParams=C);X&&(y.locationInfo=g.uN(X));Lx(this,"setPlaylist",y);V||jn(this,U)}sJ(k,F){if(tF(this)){if(k&&F){const a=
px(this);lu(a,k,F);jn(this,a)}Lx(this,"previous")}else $K(this,g.hV(this.sJ,k,F))}nextVideo(k,F){if(tF(this)){if(k&&F){const a=px(this);lu(a,k,F);jn(this,a)}Lx(this,"next")}else $K(this,g.hV(this.nextVideo,k,F))}k0(){if(tF(this)){Lx(this,"clearPlaylist");var k=px(this);k.reset();jn(this,k);this.publish("remotePlayerChange")}else $K(this,this.k0)}D3(){tF(this)?Lx(this,"dismissAutoplay"):$K(this,this.D3)}dispose(){if(this.O!=3){const k=this.O;this.O=3;this.publish("proxyStateChange",k,this.O)}super.dispose()}p6(){YS8(this);
this.V=null;this.Z.clear();cv(this,null);super.p6()}OO(k){if((k!=this.O||k==2)&&this.O!=3&&k!=0){var F=this.O;this.O=k;this.publish("proxyStateChange",F,k);if(k==1)for(;!this.Z.isEmpty();)F=k=this.Z,F.D.length===0&&(F.D=F.K,F.D.reverse(),F.K=[]),k.D.pop().apply(this);else k==3&&this.dispose()}}a5(k,F){this.publish(k,F)}cA(k){if(!k)this.C(null),cv(this,null);else if(this.K.receiver.volume){k=this.K.receiver.volume;const F=px(this),a=Math.round(100*k.level||0);if(F.volume!=a||F.muted!=k.muted)ND("Cast volume update: "+
k.level+(k.muted?" muted":"")),F.volume=a,F.muted=!!k.muted,jn(this,F)}}C(k){ND("Cast media: "+!!k);this.D&&this.D.removeUpdateListener(this.I5);if(this.D=k)this.D.addUpdateListener(this.I5),Ov7(this),this.publish("remotePlayerChange")}QX(k){k?(Ov7(this),this.publish("remotePlayerChange")):this.C(null)}AD(){Lx(this,"sendDebugCommand",{debugCommand:"stats4nerds "})}Jl(){const k=hP7();k&&cv(this,k)}Km(k){EG("CP",k)}};var Tl=class extends g.w4{constructor(k,F=!1){var a=Ge,V=Ce();super();this.C=NaN;this.QX=!1;this.j=this.I5=this.OO=this.VX=NaN;this.D3=[];this.Z=this.W=this.V=this.D=this.K=null;this.Ml=a;this.a5=F;this.D3.push(g.jY(window,"beforeunload",()=>{this.T(2)}));
this.O=[];this.D=new xK;this.L6=k.id;this.Jl=k.idType;this.K=YyL(this.Ml,V,this.cA,this.Jl=="shortLived",this.L6);this.K.listen("channelOpened",()=>{lt8(this)});
this.K.listen("channelClosed",()=>{El("Channel closed");isNaN(this.C)?H3(!0):H3();this.dispose()});
this.K.listen("channelError",M=>{H3();isNaN(this.X())?(M==1&&this.Jl=="shortLived"&&this.publish("browserChannelAuthError",M),El(`Channel error: ${M} without reconnection`),this.dispose()):(this.QX=!0,El("Channel error: "+M+" with reconnection in "+this.X()+" ms"),DK(this,2))});
this.K.listen("channelMessage",M=>{DAC(this,M)});
this.K.Qs(k.token);this.subscribe("remoteQueueChange",()=>{var M=this.D.videoId;g.wq()&&g.z5("yt-remote-session-video-id",M)})}connect(k,F){if(F){var a=F.listId;
const V=F.videoId,M=F.videoIds,C=F.playerParams,X=F.clickTrackingParams,U=F.index,y={videoId:V},n=F.currentTime,u=F.locationInfo;F=F.loopMode;n!==void 0&&(y.currentTime=n<=5?0:n);C&&(y.playerParams=C);u&&(y.locationInfo=u);X&&(y.clickTrackingParams=X);a&&(y.listId=a);M&&M.length>0&&(y.videoIds=M.join(","));U!==void 0&&(y.currentIndex=U);this.a5&&(y.loopMode=F||"LOOP_MODE_OFF");a&&(this.D.listId=a);this.D.videoId=V;this.D.index=U||0;this.D.state=3;YK(this.D,n);this.Z="UNSUPPORTED";a=this.a5?"setInitialState":
"setPlaylist";El(`Connecting with ${a} and params: ${g.uN(y)}`);this.K.connect({method:a,params:g.uN(y)},k,$hX())}else El("Connecting without params"),this.K.connect({},k,$hX());ivC(this)}Qs(k){this.K.Qs(k)}dispose(){this.wU()||(g.IH("yt.mdx.remote.remoteClient_",null),this.publish("beforeDispose"),DK(this,3));super.dispose()}p6(){iu(this);fx(this);NX(this);g.QW(this.I5);this.I5=NaN;g.QW(this.j);this.j=NaN;this.V=null;g.Wd(this.D3);this.D3.length=0;this.K.dispose();super.p6();this.Z=this.W=this.O=
this.D=this.K=null}TL(k){if(!this.O||this.O.length===0)return!1;for(const F of this.O)if(!F.capabilities.has(k))return!1;return!0}yX(){let k=3;this.wU()||(k=0,isNaN(this.X())?this.K.ER()&&isNaN(this.C)&&(k=1):k=2);return k}T(k){El("Disconnecting with "+k);g.IH("yt.mdx.remote.remoteClient_",null);iu(this);this.publish("beforeDisconnect",k);k==1&&H3();this.K.disconnect(k);this.dispose()}vA(){let k=this.D;this.V&&(k=this.D.clone(),lu(k,this.V,k.index));return vv(k)}E3(k){const F=new xK(k);F.videoId&&
F.videoId!=this.D.videoId&&(this.V=F.videoId,g.QW(this.I5),this.I5=g.HM(()=>{if(this.V){const V=this.V;this.V=null;this.D.videoId!=V&&ze(this,"getNowPlaying")}},5E3));
const a=[];this.D.listId==F.listId&&this.D.videoId==F.videoId&&this.D.index==F.index||a.push("remoteQueueChange");this.D.playerState==F.playerState&&this.D.volume==F.volume&&this.D.muted==F.muted&&Ol(this.D)==Ol(F)&&g.uN(this.D.trackData)==g.uN(F.trackData)||a.push("remotePlayerChange");this.D.reset(k);g.fQ(a,function(V){this.publish(V)},this)}uw(){const k=this.K.getDeviceId(),F=g.sm(this.O,function(a){return a.type=="REMOTE_CONTROL"&&a.id!=k});
return F?F.id:""}X(){return this.K.Ge()}n6(){return this.Z||"UNSUPPORTED"}Yw(){return this.W||""}PA(){!isNaN(this.X())&&this.K.IW()}Dl(k,F){ze(this,k,F);G2C(this)}cA(){var k=g.GL("SAPISID","")||g.GL("__Secure-1PAPISID")||"",F=g.GL("__Secure-3PAPISID","")||"";if(!k&&!F)return"";k=g.Aa(g.rQ(k),2);F=g.Aa(g.rQ(F),2);return g.Aa(g.rQ(`,${k},${F}`),2)}};Tl.prototype.subscribe=Tl.prototype.subscribe;Tl.prototype.unsubscribeByKey=Tl.prototype.L$;Tl.prototype.getProxyState=Tl.prototype.yX;
Tl.prototype.disconnect=Tl.prototype.T;Tl.prototype.getPlayerContextData=Tl.prototype.vA;Tl.prototype.setPlayerContextData=Tl.prototype.E3;Tl.prototype.getOtherConnectedRemoteId=Tl.prototype.uw;Tl.prototype.getReconnectTimeout=Tl.prototype.X;Tl.prototype.getAutoplayMode=Tl.prototype.n6;Tl.prototype.getAutoplayVideoId=Tl.prototype.Yw;Tl.prototype.reconnect=Tl.prototype.PA;Tl.prototype.sendMessage=Tl.prototype.Dl;Tl.prototype.getXsrfToken=Tl.prototype.cA;
Tl.prototype.isCapabilitySupportedOnConnectedDevices=Tl.prototype.TL;var M18=class extends zi{constructor(k){super("ScreenServiceProxy");this.OE=k;this.D=[];this.D.push(this.OE.$_s("screenChange",(0,g.ry)(this.K,this)));this.D.push(this.OE.$_s("onlineScreenChange",(0,g.ry)(this.O,this)))}lR(k){return this.OE.$_gs(k)}contains(k){return!!this.OE.$_c(k)}get(k){return this.OE.$_g(k)}start(){this.OE.$_st()}add(k,F,a){this.OE.$_a(k,F,a)}remove(k,F,a){this.OE.$_r(k,F,a)}nh(k,F,a,V){this.OE.$_un(k,F,a,V)}p6(){const k=this.D.length;for(let F=0;F<k;++F)this.OE.$_ubk(this.D[F]);
this.D.length=0;this.OE=null;super.p6()}K(){this.publish("screenChange")}O(){this.publish("onlineScreenChange")}};MX.prototype.$_st=MX.prototype.start;MX.prototype.$_gspc=MX.prototype.YR;MX.prototype.$_gsppc=MX.prototype.wp;MX.prototype.$_c=MX.prototype.contains;MX.prototype.$_g=MX.prototype.get;MX.prototype.$_a=MX.prototype.add;MX.prototype.$_un=MX.prototype.nh;MX.prototype.$_r=MX.prototype.remove;MX.prototype.$_gs=MX.prototype.lR;MX.prototype.$_gos=MX.prototype.ek;MX.prototype.$_s=MX.prototype.subscribe;
MX.prototype.$_ubk=MX.prototype.L$;var yR=null,gn=!1,Ge=null,bu=null,qV=null,ad=[];var dwz=class extends g.GB{constructor(k,F,a){super();this.D=k;this.J=F;this.BB=a;this.events=new g.Ms(this);this.C=!1;this.W=new g.yl(64);this.K=new g.La(this.cA,500,this);this.O=new g.La(this.Jl,1E3,this);this.I5=new B3(this.L6,0,this);this.V={};this.j=new g.La(this.uw,1E3,this);this.X=new g.aw(this.seekTo,1E3,this);this.TL=this.events.N(this.J,"onVolumeChange",V=>{XhQ(this,V)});
g.Q(this,this.events);this.events.N(F,"onCaptionsTrackListChanged",this.PA);this.events.N(F,"captionschanged",this.Ml);this.events.N(F,"captionssettingschanged",this.a5);this.events.N(F,"videoplayerreset",this.T);this.events.N(F,"mdxautoplaycancel",()=>{this.BB.D3()});
F.A("enable_mdx_video_play_directly")&&this.events.N(F,"videodatachange",()=>{ouB(this.D)||Id(this)||Si(this,0)});
k=this.BB;k.wU();k.subscribe("proxyStateChange",this.QX,this);k.subscribe("remotePlayerChange",this.Z,this);k.subscribe("remoteQueueChange",this.T,this);k.subscribe("previousNextChange",this.VX,this);k.subscribe("nowAutoplaying",this.OO,this);k.subscribe("autoplayDismissed",this.D3,this);g.Q(this,this.K);g.Q(this,this.O);g.Q(this,this.I5);g.Q(this,this.j);g.Q(this,this.X);this.a5();this.T();this.Z()}p6(){super.p6();this.K.stop();this.O.stop();this.I5.stop();const k=this.BB;k.unsubscribe("proxyStateChange",
this.QX,this);k.unsubscribe("remotePlayerChange",this.Z,this);k.unsubscribe("remoteQueueChange",this.T,this);k.unsubscribe("previousNextChange",this.VX,this);k.unsubscribe("nowAutoplaying",this.OO,this);k.unsubscribe("autoplayDismissed",this.D3,this);this.BB=this.D=null}DE(k,...F){if(this.BB.O!=2)if(Id(this)){if(px(this.BB).playerState!=1081||k!=="control_seek")switch(k){case "control_toggle_play_pause":px(this.BB).isPlaying()?this.BB.pause():this.BB.play();break;case "control_play":this.BB.play();
break;case "control_pause":this.BB.pause();break;case "control_seek":this.X.V(F[0],F[1]);break;case "control_subtitles_set_track":ZX(this,F[0]);break;case "control_set_audio_track":this.setAudioTrack(F[0])}}else switch(k){case "control_toggle_play_pause":case "control_play":case "control_pause":k=this.J.getCurrentTime();Si(this,k===0?void 0:k);break;case "control_seek":Si(this,F[0]);break;case "control_subtitles_set_track":ZX(this,F[0]);break;case "control_set_audio_track":this.setAudioTrack(F[0])}}Ml(k){this.I5.MS(k)}L6(k){this.DE("control_subtitles_set_track",
g.NL(k)?null:k)}a5(){const k=this.J.getOption("captions","track");g.NL(k)||ZX(this,k)}iP(k){this.D.iP(k,this.J.getVideoData().lengthSeconds)}PA(){g.NL(this.V)||Uw8(this,this.V);this.C=!1}QX(k,F){this.O.stop();F===2&&this.Jl()}Z(){if(Id(this)){this.K.stop();var k=px(this.BB);switch(k.playerState){case 1080:case 1081:case 1084:case 1085:this.D.DP=1;break;case 1082:case 1083:this.D.DP=0;break;default:this.D.DP=-1}switch(k.playerState){case 1081:case 1:this.Kf(new g.yl(8));this.cA();break;case 1085:case 3:this.Kf(new g.yl(9));
break;case 1083:case 0:this.Kf(new g.yl(2));this.X.stop();this.iP(this.J.getVideoData().lengthSeconds);break;case 1084:this.Kf(new g.yl(4));break;case 2:this.Kf(new g.yl(4));this.iP(Ol(k));break;case -1:this.Kf(new g.yl(64));break;case -1E3:this.Kf(new g.yl(128,{errorCode:"mdx.remoteerror",errorMessage:"This video is not available for remote playback.",BI:2}))}const a=px(this.BB).trackData;k=a;var F=this.V;(k||F?k&&F&&k.trackName==F.trackName&&k.languageCode==F.languageCode&&k.languageName==F.languageName&&
k.kind==F.kind:1)||(this.V=a,Uw8(this,a));k=px(this.BB);k.volume===-1||Math.round(this.J.getVolume())===k.volume&&this.J.isMuted()===k.muted||this.j.isActive()||this.uw()}else ywQ(this)}VX(){this.J.publish("mdxpreviousnextchange")}T(){Id(this)||ywQ(this)}OO(k){isNaN(k)||this.J.publish("mdxnowautoplaying",k)}D3(){this.J.publish("mdxautoplaycanceled")}setAudioTrack(k){Id(this)&&this.BB.setAudioTrack(m6(this).videoId,k)}seekTo(k,F){px(this.BB).playerState===-1?Si(this,k):F&&this.BB.seekTo(k)}uw(){if(Id(this)){var k=
px(this.BB);this.events.Ar(this.TL);k.muted?this.J.mute():this.J.unMute();this.J.setVolume(k.volume);this.TL=this.events.N(this.J,"onVolumeChange",F=>{XhQ(this,F)})}}cA(){this.K.stop();
if(!this.BB.wU()){var k=px(this.BB);k.isPlaying()&&this.Kf(new g.yl(8));this.iP(Ol(k));this.K.start()}}Jl(){this.O.stop();this.K.stop();const k=this.BB.Ge();this.BB.O==2&&!isNaN(k)&&this.O.start()}Kf(k){this.O.stop();const F=this.W;if(!g.g$(F,k)){const a=k.D(2);a!==this.W.D(2)&&this.J.Tv(a);this.W=k;nuC(this.D,F,k)}}};var P$m=class extends g.An{constructor(k,F){super(k);this.D=F}getCurrentTime(){return this.D.getCurrentTime()}getDuration(){return this.D.getDuration()}kY(){return this.D.kY()}t0(){return this.D.t0()}pg(){return this.D.pg()}Ca(){return this.D.Ca()}getPlayerState(){return this.D.d$}isAtLiveHead(){return this.D.isAtLiveHead()}pauseVideo(){ei(this.D,"control_pause")}async playVideo(){ei(this.D,"control_play")}seekTo(k,F){ei(this.D,"control_seek",k,!F?.Ao)}TW(k){ei(this.D,"control_set_audio_track",k);
return!0}};var HFZ=class extends g.G{constructor(){super({U:"div",G:"ytp-mdx-popup-dialog",L:{role:"dialog"},Y:[{U:"div",G:"ytp-mdx-popup-dialog-inner-content",Y:[{U:"div",G:"ytp-mdx-popup-title",EO:"You're signed out"},{U:"div",G:"ytp-mdx-popup-description",EO:"Videos you watch may be added to the TV's watch history and influence TV recommendations. To avoid this, cancel and sign in to YouTube on your computer."},{U:"div",G:"ytp-mdx-privacy-popup-buttons",Y:[{U:"button",mN:["ytp-button","ytp-mdx-privacy-popup-cancel"],
EO:"Cancel"},{U:"button",mN:["ytp-button","ytp-mdx-privacy-popup-confirm"],EO:"Confirm"}]}]}]});this.fade=new g.rz(this,250);this.cancelButton=this.Z3("ytp-mdx-privacy-popup-cancel");this.confirmButton=this.Z3("ytp-mdx-privacy-popup-confirm");g.Q(this,this.fade);this.N(this.cancelButton,"click",this.D);this.N(this.confirmButton,"click",this.K)}qg(){this.fade.show()}Tn(){this.fade.hide()}D(){QG("mdx-privacy-popup-cancel");this.Tn()}K(){QG("mdx-privacy-popup-confirm");this.Tn()}};var JwL=class extends g.G{constructor(k){super({U:"div",G:"ytp-remote",Y:[{U:"div",G:"ytp-remote-display-status",Y:[{U:"div",G:"ytp-remote-display-status-icon",Y:[g.LYp()]},{U:"div",G:"ytp-remote-display-status-text",EO:"{{statustext}}"}]}]});this.api=k;this.fade=new g.rz(this,250);g.Q(this,this.fade);this.N(k,"presentingplayerstatechange",this.onStateChange);this.Gi(k.getPlayerStateObject())}onStateChange(k){this.Gi(k.state)}Gi(k){if(this.api.getPresentingPlayerType()===3){const F={RECEIVER_NAME:this.api.getOption("remote",
"currentReceiver").name};k=k.D(128)?g.TC("Error on $RECEIVER_NAME",F):k.isPlaying()||k.isPaused()?g.TC("Playing on $RECEIVER_NAME",F):g.TC("Connected to $RECEIVER_NAME",F);this.updateValue("statustext",k);this.fade.show()}else this.fade.hide()}};var Qxz=class extends g.I_{constructor(k,F){super("Play on",1,k,F);this.J=k;this.wH={};this.N(k,"onMdxReceiversChange",this.C);this.N(k,"presentingplayerstatechange",this.C);this.C()}C(){var k=this.J.getOption("remote","receivers");k&&k.length>1&&!this.J.getOption("remote","quickCast")?(this.wH=g.AS(k,this.Z,this),this.V(g.bb(k,this.Z)),k=this.J.getOption("remote","currentReceiver"),k=this.Z(k),this.options[k]&&this.K(k),this.enable(!0)):this.enable(!1)}Z(k){return k.key}O(k){return k==="cast-selector-receiver"?
"Cast...":this.wH[k].name}D(k){super.D(k);this.J.setOption("remote","currentReceiver",this.wH[k]);this.KT.Tn()}};g.dp("remote",class extends g.ZH{constructor(k){super(k);this.VG={key:I1(),name:"This computer"};this.CQ=null;this.subscriptions=[];this.V7=this.BB=null;this.wH=[this.VG];this.E1=this.VG;this.d$=new g.yl(64);this.A_=0;this.DP=-1;this.x$=!1;this.It=this.Qp=this.UG=null;if(!g.fj(this.player.S())&&!g.R4(this.player.S())){k=this.player;var F=g.Md(k);F&&(F=F.m7())&&(F=new Qxz(k,F),g.Q(this,F));F=new JwL(k);g.Q(this,F);g.Ii(k,F.element,4);this.UG=new HFZ;g.Q(this,this.UG);g.Ii(k,this.UG.element,4);this.x$=
!!MV()}}create(){var k=this.player.S();const F=g.GM(k);k={device:"Desktop",app:"youtube-desktop",loadCastApiSetupScript:k.A("mdx_load_cast_api_bootstrap_script"),enableDialLoungeToken:k.A("enable_dial_short_lived_lounge_token"),enableCastLoungeToken:k.A("enable_cast_short_lived_lounge_token")};FoR(F,k);this.subscriptions.push(g.G0("yt-remote-before-disconnect",this.gO,this));this.subscriptions.push(g.G0("yt-remote-connection-change",this.r9,this));this.subscriptions.push(g.G0("yt-remote-receiver-availability-change",
this.G0,this));this.subscriptions.push(g.G0("yt-remote-auto-connect",this.oz,this));this.subscriptions.push(g.G0("yt-remote-receiver-resumed",this.xv,this));this.subscriptions.push(g.G0("mdx-privacy-popup-confirm",this.Ug,this));this.subscriptions.push(g.G0("mdx-privacy-popup-cancel",this.ZS,this));this.G0()}load(){this.player.cancelPlayback();super.load();this.It=new P$m(this.player.S(),this);this.player.j0(this.It);this.CQ=new dwz(this,this.player,this.BB);var k=(k=sxk())?k.currentTime:0;const F=
Ke()?new euB:null;k==0&&F&&(k=Ol(px(F)));k!==0&&this.iP(k);nuC(this,this.d$,this.d$);this.player.Tg(6)}unload(){this.player.publish("mdxautoplaycanceled");this.player.sN();this.E1=this.VG;g.zB(this.CQ,this.BB);this.BB=this.It=this.CQ=null;super.unload();this.player.Tg(5);dn(this)}p6(){g.b0(this.subscriptions);super.p6()}getAdState(){return this.DP}hasPrevious(){return this.BB?px(this.BB).hasPrevious:!1}hasNext(){return this.BB?px(this.BB).hasNext:!1}iP(k,F){this.A_=k||0;this.player.publish("progresssync",
k,F);g.kj(this.player,"onVideoProgress",k||0)}getCurrentTime(){return this.A_}getDuration(){return px(this.BB).getDuration()||0}kY(){var k=px(this.BB);return k.V?k.D+Bv(k):k.D}t0(){return px(this.BB).loadedTime}pg(){return A5R(px(this.BB))}Ca(){var k=px(this.BB);return k.K>0?k.K+Bv(k):k.K}getProgressState(){const k=px(this.BB),F=this.player.getVideoData();return{airingStart:0,airingEnd:0,allowSeeking:k.playerState!=1081&&this.player.WE(),clipEnd:F.clipEnd,clipStart:F.clipStart,current:this.getCurrentTime(),
displayedStart:-1,duration:this.getDuration(),ingestionTime:this.kY(),isAtLiveHead:this.isAtLiveHead(),loaded:this.t0(),seekableEnd:this.pg(),seekableStart:this.Ca(),offset:0,viewerLivestreamJoinMediaTime:0}}isAtLiveHead(){return A5R(px(this.BB))-this.getCurrentTime()<=1}nextVideo(){this.BB&&this.BB.nextVideo()}sJ(){this.BB&&this.BB.sJ()}gO(k){k===1&&(this.V7=this.BB?px(this.BB):null)}r9(){var k=Ke()?new euB:null;if(k){const F=this.E1;this.loaded&&this.unload();this.BB=k;this.V7=null;F.key!==this.VG.key&&
(this.E1=F,this.load())}else g.f0(this.BB),this.BB=null,this.loaded&&(this.unload(),(k=this.V7)&&k.videoId===this.player.getVideoData().videoId&&this.player.cueVideoById(k.videoId,Ol(k)));this.player.publish("videodatachange","newdata",this.player.getVideoData(),3)}G0(){var k=[this.VG],F=k.concat;const a=abQ();Hv()&&g.G5("yt-remote-cast-available")&&a.push({key:"cast-selector-receiver",name:"Cast..."});this.wH=F.call(k,a);k=UE()||this.VG;PO(this,k);g.kj(this.player,"onMdxReceiversChange")}oz(){const k=
UE();PO(this,k)}xv(){this.E1=UE()}Ug(){this.x$=!0;dn(this);gn=!1;yR&&ne(yR,1);yR=null}ZS(){this.x$=!1;dn(this);PO(this,this.VG);this.E1=this.VG;gn=!1;yR=null;this.player.playVideo()}n$(k,F){switch(k){case "casting":return this.loaded;case "receivers":return this.wH;case "currentReceiver":return F&&(F.key==="cast-selector-receiver"?Q2():PO(this,F)),this.loaded?this.E1:this.VG;case "quickCast":return this.wH.length===2&&this.wH[1].key==="cast-selector-receiver"?(F&&Q2(),!0):!1}}AD(){this.BB.AD()}k9(){return!1}getOptions(){return["casting",
"receivers","currentReceiver","quickCast"]}isLoggedIn(){return g.v("PLAYER_CONFIG")?.args?.authuser!==void 0?!0:!(!g.v("SESSION_INDEX")&&!g.v("LOGGED_IN"))}});})(_yt_player);
